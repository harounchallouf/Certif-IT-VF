{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\project-3-master\\\\client\\\\src\\\\components\\\\pages\\\\Profiles\\\\TeacherProfile\\\\Edit-Teacher-Form.js\";\nimport React, { Component } from 'react';\nimport { motion } from 'framer-motion';\nimport { pageVariants, pageTransition } from '../../../shared/PageAnimation/PageAnimation';\nimport TeachersService from '../../../../service/teachers.service';\nimport FilesService from '../../../../service/upload.service';\nimport Loader from '../../../shared/Spinner/Loader';\nimport { Container, Row, Col, Form, Button, Tabs, Tab } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nclass EditTeacherForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => this.setState({\n      teacher: this.props.teacherInfo\n    });\n\n    this.handleInputChange = e => this.setState({\n      teacher: { ...this.state.teacher,\n        [e.target.name]: e.target.value\n      }\n    });\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const teacherId = this.props.teacherInfo._id;\n      this.teachersService.editTeacher(teacherId, this.state.teacher).then(() => {\n        this.props.storeUser(this.props.loggedUser);\n        this.props.history.push(`/teachers/${teacherId}`);\n        this.props.handleToast(true, 'Edit successful!', '#d4edda');\n      }).catch(() => {\n        this.props.history.push(`/teachers/${teacherId}`);\n        this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da');\n      });\n    };\n\n    this.handleImageUpload = e => {\n      const uploadData = new FormData();\n      uploadData.append('imageUrl', e.target.files[0]);\n      this.setState({\n        uploadingActive: true\n      });\n      this.filesService.uploadImage(uploadData).then(response => {\n        this.setState({\n          teacher: { ...this.state.teacher,\n            imageUrl: response.data.secure_url\n          },\n          uploadingActive: false\n        });\n      }).catch(err => this.props.handleToast(true, err.response.data.message, '#f8d7da'));\n    };\n\n    this.state = {\n      teacher: {\n        name: '',\n        surname: '',\n        jobOccupation: '',\n        description: '',\n        linkedin: '',\n        youtube: '',\n        website: '',\n        user: this.props.loggedUser ? this.props.loggedUser._id : ''\n      },\n      uploadingActive: false\n    };\n    this.teachersService = new TeachersService();\n    this.filesService = new FilesService();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: \"initial\",\n      animate: \"in\",\n      exit: \"out\",\n      variants: pageVariants,\n      transition: pageTransition,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: {\n              span: 8,\n              offset: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"mt-5\",\n              children: \"Edit your teacher Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: this.handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"name\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"name\",\n                  value: this.state.teacher.name,\n                  onChange: this.handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"surname\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Surname\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"surname\",\n                  value: this.state.teacher.surname,\n                  onChange: this.handleInputChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"jobOccupation\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Job Occupation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"jobOccupation\",\n                  value: this.state.teacher.jobOccupation,\n                  onChange: this.handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"description\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"About me\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  name: \"description\",\n                  value: this.state.teacher.description,\n                  onChange: this.handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n                className: \"mt-4\",\n                defaultActiveKey: \"linkedin\",\n                id: \"Personal Links\",\n                children: [/*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"linkedin\",\n                  title: \"Linkedin\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"linkedin\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Linkedin URL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      name: \"linkedin\",\n                      value: this.state.linkedin,\n                      onChange: this.handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"website\",\n                  title: \"Website\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"website\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Website URL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      name: \"website\",\n                      value: this.state.website,\n                      onChange: this.handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Tab, {\n                  eventKey: \"youtube\",\n                  title: \"Youtube\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"linkedin\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Youtube URL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      name: \"youtube\",\n                      value: this.state.youtube,\n                      onChange: this.handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: [\"Imagen (file: jpg or png) \", this.state.uploadingActive && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 106\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"file\",\n                  onChange: this.handleImageUpload\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"mt-3 add-course\",\n                type: \"submit\",\n                disabled: this.state.uploadingActive,\n                children: [\" \", this.state.uploadingActive ? 'Image loading...' : 'Edit Teacher profile']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), this.state.uploadingActive || /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/profile\",\n              className: \"btn btn-outline-dark mt-5\",\n              disabled: true,\n              children: \"Go back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditTeacherForm;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/Profiles/TeacherProfile/Edit-Teacher-Form.js"],"names":["React","Component","motion","pageVariants","pageTransition","TeachersService","FilesService","Loader","Container","Row","Col","Form","Button","Tabs","Tab","Link","EditTeacherForm","constructor","props","componentDidMount","setState","teacher","teacherInfo","handleInputChange","e","state","target","name","value","handleSubmit","preventDefault","teacherId","_id","teachersService","editTeacher","then","storeUser","loggedUser","history","push","handleToast","catch","handleImageUpload","uploadData","FormData","append","files","uploadingActive","filesService","uploadImage","response","imageUrl","data","secure_url","err","message","surname","jobOccupation","description","linkedin","youtube","website","user","render","span","offset"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,6CAA7C;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoCC,MAApC,EAA4CC,IAA5C,EAAkDC,GAAlD,QAA6D,iBAA7D;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAIA,MAAMC,eAAN,SAA8Bf,SAA9B,CAAwC;AACpCgB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAmBnBC,iBAnBmB,GAmBC,MAAM,KAAKC,QAAL,CAAc;AAAEC,MAAAA,OAAO,EAAE,KAAKH,KAAL,CAAWI;AAAtB,KAAd,CAnBP;;AAAA,SAqBnBC,iBArBmB,GAqBCC,CAAC,IAAI,KAAKJ,QAAL,CAAc;AAAEC,MAAAA,OAAO,EAAE,EAAE,GAAG,KAAKI,KAAL,CAAWJ,OAAhB;AAAyB,SAACG,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAAnD;AAAX,KAAd,CArBN;;AAAA,SAuBnBC,YAvBmB,GAuBJL,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACM,cAAF;AAEA,YAAMC,SAAS,GAAG,KAAKb,KAAL,CAAWI,WAAX,CAAuBU,GAAzC;AAEA,WAAKC,eAAL,CACKC,WADL,CACiBH,SADjB,EAC4B,KAAKN,KAAL,CAAWJ,OADvC,EAEKc,IAFL,CAEU,MAAM;AACR,aAAKjB,KAAL,CAAWkB,SAAX,CAAqB,KAAKlB,KAAL,CAAWmB,UAAhC;AACA,aAAKnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAyB,aAAYR,SAAU,EAA/C;AACA,aAAKb,KAAL,CAAWsB,WAAX,CAAuB,IAAvB,EAA6B,kBAA7B,EAAiD,SAAjD;AACH,OANL,EAOKC,KAPL,CAOW,MAAM;AACT,aAAKvB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAyB,aAAYR,SAAU,EAA/C;AACA,aAAKb,KAAL,CAAWsB,WAAX,CAAuB,IAAvB,EAA6B,+CAA7B,EAA8E,SAA9E;AACH,OAVL;AAWH,KAvCkB;;AAAA,SAyCnBE,iBAzCmB,GAyCClB,CAAC,IAAI;AACrB,YAAMmB,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACAD,MAAAA,UAAU,CAACE,MAAX,CAAkB,UAAlB,EAA8BrB,CAAC,CAACE,MAAF,CAASoB,KAAT,CAAe,CAAf,CAA9B;AAEA,WAAK1B,QAAL,CAAc;AAAE2B,QAAAA,eAAe,EAAE;AAAnB,OAAd;AAEA,WAAKC,YAAL,CACKC,WADL,CACiBN,UADjB,EAEKR,IAFL,CAEUe,QAAQ,IAAI;AACd,aAAK9B,QAAL,CAAc;AACVC,UAAAA,OAAO,EAAE,EAAE,GAAG,KAAKI,KAAL,CAAWJ,OAAhB;AAAyB8B,YAAAA,QAAQ,EAAED,QAAQ,CAACE,IAAT,CAAcC;AAAjD,WADC;AAEVN,UAAAA,eAAe,EAAE;AAFP,SAAd;AAIH,OAPL,EAQKN,KARL,CAQWa,GAAG,IAAI,KAAKpC,KAAL,CAAWsB,WAAX,CAAuB,IAAvB,EAA6Bc,GAAG,CAACJ,QAAJ,CAAaE,IAAb,CAAkBG,OAA/C,EAAwD,SAAxD,CARlB;AASH,KAxDkB;;AAEf,SAAK9B,KAAL,GAAa;AACTJ,MAAAA,OAAO,EAAE;AACLM,QAAAA,IAAI,EAAE,EADD;AAEL6B,QAAAA,OAAO,EAAE,EAFJ;AAGLC,QAAAA,aAAa,EAAE,EAHV;AAILC,QAAAA,WAAW,EAAE,EAJR;AAKLC,QAAAA,QAAQ,EAAE,EALL;AAMLC,QAAAA,OAAO,EAAE,EANJ;AAOLC,QAAAA,OAAO,EAAE,EAPJ;AAQLC,QAAAA,IAAI,EAAE,KAAK5C,KAAL,CAAWmB,UAAX,GAAwB,KAAKnB,KAAL,CAAWmB,UAAX,CAAsBL,GAA9C,GAAoD;AARrD,OADA;AAWTe,MAAAA,eAAe,EAAE;AAXR,KAAb;AAaA,SAAKd,eAAL,GAAuB,IAAI5B,eAAJ,EAAvB;AACA,SAAK2C,YAAL,GAAoB,IAAI1C,YAAJ,EAApB;AACH;;AA0CDyD,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,MAAD,CAAQ,GAAR;AAAY,MAAA,OAAO,EAAC,SAApB;AAA8B,MAAA,OAAO,EAAC,IAAtC;AAA2C,MAAA,IAAI,EAAC,KAAhD;AAAsD,MAAA,QAAQ,EAAE5D,YAAhE;AAA8E,MAAA,UAAU,EAAEC,cAA1F;AAAA,6BACI,QAAC,SAAD;AAAA,+BACI,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE;AAAE4D,cAAAA,IAAI,EAAE,CAAR;AAAWC,cAAAA,MAAM,EAAE;AAAnB,aAAT;AAAA,oCACI;AAAI,cAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAII,QAAC,IAAD;AAAM,cAAA,QAAQ,EAAE,KAAKpC,YAArB;AAAA,sCACI,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,SAAS,EAAC,MAAtB;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,IAAI,EAAC,MAAnB;AAA0B,kBAAA,IAAI,EAAC,MAA/B;AAAsC,kBAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWJ,OAAX,CAAmBM,IAAhE;AAAsE,kBAAA,QAAQ,EAAE,KAAKJ,iBAArF;AAAwG,kBAAA,QAAQ;AAAhH;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAKI,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,SAAS,EAAC,SAAtB;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,IAAI,EAAC,MAAnB;AAA0B,kBAAA,IAAI,EAAC,SAA/B;AAAyC,kBAAA,KAAK,EAAE,KAAKE,KAAL,CAAWJ,OAAX,CAAmBmC,OAAnE;AAA4E,kBAAA,QAAQ,EAAE,KAAKjC,iBAA3F;AAA8G,kBAAA,QAAQ;AAAtH;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,eAUI,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,SAAS,EAAC,eAAtB;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,IAAI,EAAC,MAAnB;AAA0B,kBAAA,IAAI,EAAC,eAA/B;AAA+C,kBAAA,KAAK,EAAE,KAAKE,KAAL,CAAWJ,OAAX,CAAmBoC,aAAzE;AAAwF,kBAAA,QAAQ,EAAE,KAAKlC;AAAvG;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVJ,eAcI,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,SAAS,EAAC,aAAtB;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,EAAE,EAAC,UAAjB;AAA4B,kBAAA,IAAI,EAAC,aAAjC;AAA+C,kBAAA,KAAK,EAAE,KAAKE,KAAL,CAAWJ,OAAX,CAAmBqC,WAAzE;AAAsF,kBAAA,QAAQ,EAAE,KAAKnC;AAArG;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAdJ,eAmBI,QAAC,IAAD;AAAM,gBAAA,SAAS,EAAC,MAAhB;AAAuB,gBAAA,gBAAgB,EAAC,UAAxC;AAAmD,gBAAA,EAAE,EAAC,gBAAtD;AAAA,wCACI,QAAC,GAAD;AAAK,kBAAA,QAAQ,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,UAA/B;AAAA,yCACI,QAAC,IAAD,CAAM,KAAN;AAAY,oBAAA,SAAS,EAAC,UAAtB;AAAA,4CACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,sBAAA,IAAI,EAAC,MAAnB;AAA0B,sBAAA,IAAI,EAAC,UAA/B;AAA0C,sBAAA,KAAK,EAAE,KAAKE,KAAL,CAAWkC,QAA5D;AAAsE,sBAAA,QAAQ,EAAE,KAAKpC;AAArF;AAAA;AAAA;AAAA;AAAA,4BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBADJ,eAOI,QAAC,GAAD;AAAK,kBAAA,QAAQ,EAAC,SAAd;AAAwB,kBAAA,KAAK,EAAC,SAA9B;AAAA,yCACI,QAAC,IAAD,CAAM,KAAN;AAAY,oBAAA,SAAS,EAAC,SAAtB;AAAA,4CACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,sBAAA,IAAI,EAAC,MAAnB;AAA0B,sBAAA,IAAI,EAAC,SAA/B;AAAyC,sBAAA,KAAK,EAAE,KAAKE,KAAL,CAAWoC,OAA3D;AAAoE,sBAAA,QAAQ,EAAE,KAAKtC;AAAnF;AAAA;AAAA;AAAA;AAAA,4BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAPJ,eAaI,QAAC,GAAD;AAAK,kBAAA,QAAQ,EAAC,SAAd;AAAwB,kBAAA,KAAK,EAAC,SAA9B;AAAA,yCACI,QAAC,IAAD,CAAM,KAAN;AAAY,oBAAA,SAAS,EAAC,UAAtB;AAAA,4CACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,sBAAA,IAAI,EAAC,MAAnB;AAA0B,sBAAA,IAAI,EAAC,SAA/B;AAAyC,sBAAA,KAAK,EAAE,KAAKE,KAAL,CAAWmC,OAA3D;AAAoE,sBAAA,QAAQ,EAAE,KAAKrC;AAAnF;AAAA;AAAA;AAAA;AAAA,4BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBJ,eAwCI,QAAC,IAAD,CAAM,KAAN;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA,2DAAuC,KAAKE,KAAL,CAAWsB,eAAX,iBAA8B,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,0BAArE;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,IAAI,EAAC,MAAnB;AAA0B,kBAAA,QAAQ,EAAE,KAAKL;AAAzC;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxCJ,eA6CI,QAAC,MAAD;AAAQ,gBAAA,SAAS,EAAC,iBAAlB;AAAoC,gBAAA,IAAI,EAAC,QAAzC;AAAkD,gBAAA,QAAQ,EAAE,KAAKjB,KAAL,CAAWsB,eAAvE;AAAA,gCAA0F,KAAKtB,KAAL,CAAWsB,eAAX,GAA6B,kBAA7B,GAAkD,sBAA5I;AAAA;AAAA;AAAA;AAAA;AAAA,sBA7CJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,EAmDK,KAAKtB,KAAL,CAAWsB,eAAX,iBAA8B,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,UAAT;AAAoB,cAAA,SAAS,EAAC,2BAA9B;AAA0D,cAAA,QAAQ,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnDnC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AA8DH;;AA3HmC;;AA8HxC,eAAe/B,eAAf","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport { pageVariants, pageTransition } from '../../../shared/PageAnimation/PageAnimation'\nimport TeachersService from '../../../../service/teachers.service'\nimport FilesService from '../../../../service/upload.service'\nimport Loader from '../../../shared/Spinner/Loader'\nimport { Container, Row, Col, Form, Button, Tabs, Tab } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\n\n\n\nclass EditTeacherForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            teacher: {\n                name: '',\n                surname: '',\n                jobOccupation: '',\n                description: '',\n                linkedin: '',\n                youtube: '',\n                website: '',\n                user: this.props.loggedUser ? this.props.loggedUser._id : ''\n            },\n            uploadingActive: false\n        }\n        this.teachersService = new TeachersService()\n        this.filesService = new FilesService()\n    }\n\n    componentDidMount = () => this.setState({ teacher: this.props.teacherInfo })\n\n    handleInputChange = e => this.setState({ teacher: { ...this.state.teacher, [e.target.name]: e.target.value } })\n\n    handleSubmit = e => {\n        e.preventDefault()\n\n        const teacherId = this.props.teacherInfo._id\n\n        this.teachersService\n            .editTeacher(teacherId, this.state.teacher)\n            .then(() => {\n                this.props.storeUser(this.props.loggedUser)\n                this.props.history.push(`/teachers/${teacherId}`)\n                this.props.handleToast(true, 'Edit successful!', '#d4edda')\n            })\n            .catch(() => {\n                this.props.history.push(`/teachers/${teacherId}`)\n                this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n            })\n    }\n\n    handleImageUpload = e => {\n        const uploadData = new FormData()\n        uploadData.append('imageUrl', e.target.files[0])\n\n        this.setState({ uploadingActive: true })\n\n        this.filesService\n            .uploadImage(uploadData)\n            .then(response => {\n                this.setState({\n                    teacher: { ...this.state.teacher, imageUrl: response.data.secure_url },\n                    uploadingActive: false\n                })\n            })\n            .catch(err => this.props.handleToast(true, err.response.data.message, '#f8d7da'))\n    }\n\n\n    render() {\n        return (\n            <motion.div initial='initial' animate='in' exit='out' variants={pageVariants} transition={pageTransition}>\n                <Container>\n                    <Row>\n                        <Col md={{ span: 8, offset: 2 }}>\n                            <h1 className=\"mt-5\">Edit your teacher Profile</h1>\n                            <hr />\n\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Group controlId=\"name\">\n                                    <Form.Label>Name</Form.Label>\n                                    <Form.Control type=\"text\" name=\"name\" value={this.state.teacher.name} onChange={this.handleInputChange} required />\n                                </Form.Group>\n                                <Form.Group controlId=\"surname\">\n                                    <Form.Label>Surname</Form.Label>\n                                    <Form.Control type=\"text\" name=\"surname\" value={this.state.teacher.surname} onChange={this.handleInputChange} required />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"jobOccupation\">\n                                    <Form.Label>Job Occupation</Form.Label>\n                                    <Form.Control type=\"text\" name=\"jobOccupation\" value={this.state.teacher.jobOccupation} onChange={this.handleInputChange} />\n                                </Form.Group>\n                                <Form.Group controlId=\"description\">\n                                    <Form.Label>About me</Form.Label>\n                                    <Form.Control as=\"textarea\" name=\"description\" value={this.state.teacher.description} onChange={this.handleInputChange} />\n                                </Form.Group>\n\n                                <Tabs className=\"mt-4\" defaultActiveKey=\"linkedin\" id=\"Personal Links\">\n                                    <Tab eventKey=\"linkedin\" title=\"Linkedin\">\n                                        <Form.Group controlId=\"linkedin\">\n                                            <Form.Label>Linkedin URL</Form.Label>\n                                            <Form.Control type=\"text\" name=\"linkedin\" value={this.state.linkedin} onChange={this.handleInputChange} />\n                                        </Form.Group>\n                                    </Tab>\n                                    <Tab eventKey=\"website\" title=\"Website\">\n                                        <Form.Group controlId=\"website\">\n                                            <Form.Label>Website URL</Form.Label>\n                                            <Form.Control type=\"text\" name=\"website\" value={this.state.website} onChange={this.handleInputChange} />\n                                        </Form.Group>\n                                    </Tab>\n                                    <Tab eventKey=\"youtube\" title=\"Youtube\">\n                                        <Form.Group controlId=\"linkedin\">\n                                            <Form.Label>Youtube URL</Form.Label>\n                                            <Form.Control type=\"text\" name=\"youtube\" value={this.state.youtube} onChange={this.handleInputChange} />\n                                        </Form.Group>\n                                    </Tab>\n                                </Tabs>\n\n                                <Form.Group>\n                                    <Form.Label>Imagen (file: jpg or png) {this.state.uploadingActive && <Loader />}</Form.Label>\n                                    <Form.Control type=\"file\" onChange={this.handleImageUpload} />\n                                </Form.Group>\n\n                                <Button className=\"mt-3 add-course\" type=\"submit\" disabled={this.state.uploadingActive}> {this.state.uploadingActive ? 'Image loading...' : 'Edit Teacher profile'}</Button>\n                            </Form>\n                            {this.state.uploadingActive || <Link to='/profile' className=\"btn btn-outline-dark mt-5\" disabled>Go back</Link>}\n                        </Col>\n                    </Row>\n\n                </Container>\n            </motion.div>\n        )\n    }\n}\n\nexport default EditTeacherForm"]},"metadata":{},"sourceType":"module"}