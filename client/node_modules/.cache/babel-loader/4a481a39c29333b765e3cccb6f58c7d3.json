{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\project 1\\\\client\\\\src\\\\components\\\\pages\\\\Profiles\\\\TeacherProfile\\\\TeacherProfile.js\";\nimport React, { Component } from 'react';\nimport { motion } from 'framer-motion';\nimport { Link } from 'react-router-dom';\nimport { Container, Image, Col, Row, Button } from 'react-bootstrap';\nimport CoursesServices from '../../../../service/courses.service';\nimport TeachersServices from '../../../../service/teachers.service';\nimport CourseCard from '../../../shared/CourseCard/Course-card';\nimport Loader from './../../../shared/Spinner/Loader';\nimport Popup from '../../../shared/Popup/Popup';\nimport DeleteMessage from '../../../shared/Delete-message/DeleteMessage';\nimport './TeacherProfile.css';\n\nclass TeacherProfile extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => this.refreshTeacher();\n\n    this.refreshTeacher = () => {\n      const teacher_id = this.props.match.params.teacher_id;\n      const getTeacher = this.teachersServices.getTheTeacher(teacher_id);\n      const getCourses = this.coursesServices.getTeacherCourses(teacher_id);\n      Promise.all([getTeacher, getCourses]).then(response => this.setState({\n        teacher: response[0].data,\n        courses: response[1].data\n      })).catch(() => {\n        this.props.history.push('/teachers');\n        this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da');\n      });\n    };\n\n    this.deleteCourse = course_Id => {\n      this.coursesServices.deleteCourse(course_Id).then(() => {\n        this.refreshTeacher();\n        this.props.handleToast(true, 'Delete successful!', '#d4edda');\n      }).catch(() => {\n        this.props.history.push('/profile');\n        this.props.handleToast(true, 'An error has occurred while deleting, please try again later', '#f8d7da');\n      });\n    };\n\n    this.deleteTeacher = () => {\n      const teacher_Id = this.state.teacher._id;\n      this.teachersServices.deleteTeacher(teacher_Id).then(() => {\n        this.props.storeUser(this.props.loggedUser);\n        this.props.history.push('/profile');\n        this.props.handleToast(true, 'Delete successful!', '#d4edda');\n      }).catch(() => {\n        this.props.history.push('/profile');\n        this.props.handleToast(true, 'An error has occurred while deleting, please try again later', '#f8d7da');\n      });\n    };\n\n    this.handleModal = visible => this.setState({\n      showModal: visible\n    });\n\n    this.state = {\n      teacher: undefined,\n      courses: undefined,\n      showModal: false\n    };\n    this.teachersServices = new TeachersServices();\n    this.coursesServices = new CoursesServices();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Popup, {\n        show: this.state.showModal,\n        handleModal: this.handleModal,\n        color: '#f8d7da',\n        children: [/*#__PURE__*/_jsxDEV(DeleteMessage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => this.handleModal(false),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.deleteTeacher,\n              variant: \"danger\",\n              children: \"Delete teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"teacher-profile\",\n        children: [this.state.teacher ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: {\n                span: 8\n              },\n              lg: {\n                span: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"instructor\",\n                style: {\n                  color: '#73726c'\n                },\n                children: \"INSTRUCTOR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [this.state.teacher.name, \" \", this.state.teacher.surname, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: this.state.teacher.jobOccupation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 22\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"About me\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"About the theacher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.teacher.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: {\n                span: 4\n              },\n              lg: {\n                span: 3,\n                offset: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(\"aside\", {\n                className: \"d-flex align-items-center flex-column teacher-badge\",\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Image, {\n                    src: this.state.teacher.imageUrl,\n                    className: \"user-img mb-3\",\n                    roundedCircle: true,\n                    alt: this.state.teacher.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"mt-3 mb-3\",\n                  children: [this.state.teacher.linkedin && /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"teacher-links-btn\",\n                    href: this.state.teacher.linkedin,\n                    alt: \"Linkedin button\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"links-icon\",\n                        src: \"https://res.cloudinary.com/dodneiokm/image/upload/v1607977090/project3-ironhack/linkedin_3_zpvz48.png\",\n                        alt: \"Linkedin icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 27\n                    }, this), \"Linkedin\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 25\n                  }, this), this.state.teacher.website && /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"teacher-links-btn\",\n                    href: this.state.teacher.website,\n                    alt: \"Website button\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"links-icon\",\n                        src: \"https://res.cloudinary.com/dodneiokm/image/upload/v1607977242/project3-ironhack/link_kj6las.png\",\n                        alt: \"Website icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 27\n                    }, this), \"Website\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 25\n                  }, this), this.state.teacher.youtube && /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"teacher-links-btn\",\n                    href: this.state.teacher.youtube,\n                    alt: \"Youtube button\",\n                    target: \"_blank\",\n                    rel: \"noreferrer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"links-icon\",\n                        src: \"https://res.cloudinary.com/dodneiokm/image/upload/v1607976945/project3-ironhack/youtube_hgefuo.png\",\n                        alt: \"Youtube icon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 27\n                    }, this), \"Youtube\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 25\n                  }, this), this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/profile-teacher/edit-teacher\",\n                      className: \"teacher-edit mt-5\",\n                      children: \"Edit details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => this.handleModal(true),\n                      className: \"teacher-delete\",\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/profile-teacher/create-course\",\n                      className: \"course-add mt-5\",\n                      children: \"Add course\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: 12,\n              children: this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ? /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"mt-5 mb-5\",\n                children: \"My Courses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"mt-5 mb-5\",\n                children: \"Teacher's Courses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: this.state.courses.length > 0 ? this.state.courses.map(elm => /*#__PURE__*/_jsxDEV(CourseCard, { ...elm,\n              teacher: this.props.teacherInfo,\n              userInfo: this.props.loggedUser,\n              deleteCourse: this.deleteCourse,\n              updateFavCourses: this.props.updateFavCourses\n            }, elm._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 49\n            }, this)) : this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ? /*#__PURE__*/_jsxDEV(Col, {\n              className: \"cta\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"d-flex justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2 mb-0\",\n                  children: [\"Let's start teaching, \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: this.state.teacher.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 72\n                  }, this), \"! Create an Engaging Course.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/profile-teacher/create-course\",\n                  className: \"btn btn-success \",\n                  children: \"Create new course\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(Col, {\n              className: \"cta\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"d-flex justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-2 mb-0\",\n                  children: \"This teacher hasn't created couerses yet.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/courses\",\n                  className: \"btn btn-success \",\n                  children: \"See more courses\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/teachers\",\n          className: \"btn btn-outline-dark mt-5\",\n          children: \"Go back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TeacherProfile;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project 1/client/src/components/pages/Profiles/TeacherProfile/TeacherProfile.js"],"names":["React","Component","motion","Link","Container","Image","Col","Row","Button","CoursesServices","TeachersServices","CourseCard","Loader","Popup","DeleteMessage","TeacherProfile","constructor","componentDidMount","refreshTeacher","teacher_id","props","match","params","getTeacher","teachersServices","getTheTeacher","getCourses","coursesServices","getTeacherCourses","Promise","all","then","response","setState","teacher","data","courses","catch","history","push","handleToast","deleteCourse","course_Id","deleteTeacher","teacher_Id","state","_id","storeUser","loggedUser","handleModal","visible","showModal","undefined","render","opacity","span","color","name","surname","jobOccupation","teacherInfo","description","offset","imageUrl","linkedin","website","youtube","length","map","elm","updateFavCourses"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport { Link } from 'react-router-dom'\nimport { Container, Image, Col, Row, Button } from 'react-bootstrap'\nimport CoursesServices from '../../../../service/courses.service'\nimport TeachersServices from '../../../../service/teachers.service'\nimport CourseCard from '../../../shared/CourseCard/Course-card'\nimport Loader from './../../../shared/Spinner/Loader'\nimport Popup from '../../../shared/Popup/Popup'\nimport DeleteMessage from '../../../shared/Delete-message/DeleteMessage'\nimport './TeacherProfile.css'\n\n\nclass TeacherProfile extends Component {\n  constructor() {\n    super()\n    this.state = {\n      teacher: undefined,\n      courses: undefined,\n      showModal: false\n    }\n    this.teachersServices = new TeachersServices()\n    this.coursesServices = new CoursesServices()\n  }\n\n  componentDidMount = () => this.refreshTeacher()\n\n  refreshTeacher = () => {\n    const teacher_id = this.props.match.params.teacher_id\n    const getTeacher = this.teachersServices.getTheTeacher(teacher_id)\n    const getCourses = this.coursesServices.getTeacherCourses(teacher_id)\n\n    Promise.all([getTeacher, getCourses])\n      .then(response => this.setState({ teacher: response[0].data, courses: response[1].data }))\n      .catch(() => {\n        this.props.history.push('/teachers')\n        this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n      })\n  }\n\n  deleteCourse = course_Id => {\n    this.coursesServices\n      .deleteCourse(course_Id)\n      .then(() => {\n        this.refreshTeacher()\n        this.props.handleToast(true, 'Delete successful!', '#d4edda')\n      })\n      .catch(() => {\n        this.props.history.push('/profile')\n        this.props.handleToast(true, 'An error has occurred while deleting, please try again later', '#f8d7da')\n      })\n  }\n\n  deleteTeacher = () => {\n    const teacher_Id = this.state.teacher._id\n\n    this.teachersServices\n      .deleteTeacher(teacher_Id)\n      .then(() => {\n        this.props.storeUser(this.props.loggedUser)\n        this.props.history.push('/profile')\n        this.props.handleToast(true, 'Delete successful!', '#d4edda')\n      })\n      .catch(() => {\n        this.props.history.push('/profile')\n        this.props.handleToast(true, 'An error has occurred while deleting, please try again later', '#f8d7da')\n      })\n  }\n\n  handleModal = visible => this.setState({ showModal: visible })\n\n  render() {\n    return (\n      <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n\n        <Popup show={this.state.showModal} handleModal={this.handleModal} color={'#f8d7da'}>\n          <DeleteMessage />\n          <Row className='justify-content-center'>\n            <Col xs='auto'>\n              <Button variant='secondary' onClick={() => this.handleModal(false)}>Close</Button>\n            </Col>\n            <Col xs='auto'>\n              <Button onClick={this.deleteTeacher} variant='danger'>Delete teacher</Button>\n            </Col>\n          </Row>\n        </Popup>\n\n        <Container className=\"teacher-profile\">\n          {this.state.teacher ?\n            <>\n              <Row>\n\n                <Col md={{ span: 8 }} lg={{ span: 8 }}>\n                  <p className=\"instructor\" style={{ color: '#73726c' }}>INSTRUCTOR</p>\n                  <h1>{this.state.teacher.name} {this.state.teacher.surname} </h1>\n                  <p><strong>{this.state.teacher.jobOccupation}</strong></p>\n                  <hr></hr>\n                  {this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ?\n                    <h3><strong>About me</strong></h3>\n                    :\n                    <h3><strong>About the theacher</strong></h3>}\n\n                  <p>{this.state.teacher.description}</p>\n                </Col>\n                <Col md={{ span: 4 }} lg={{ span: 3, offset: 1 }} >\n                  <aside className=\"d-flex align-items-center flex-column teacher-badge\">\n                    <Row>\n                      <Image src={this.state.teacher.imageUrl} className=\"user-img mb-3\" roundedCircle alt={this.state.teacher.name} />\n                    </Row>\n\n                    <Row className=\"mt-3 mb-3\">\n                      {this.state.teacher.linkedin &&\n                        <a className=\"teacher-links-btn\" href={this.state.teacher.linkedin} alt='Linkedin button' target=\"_blank\" rel=\"noreferrer\">\n                          <span><img className=\"links-icon\" src=\"https://res.cloudinary.com/dodneiokm/image/upload/v1607977090/project3-ironhack/linkedin_3_zpvz48.png\" alt='Linkedin icon' />\n                          </span>Linkedin</a>}\n\n                      {this.state.teacher.website &&\n                        <a className=\"teacher-links-btn\" href={this.state.teacher.website} alt='Website button' target=\"_blank\" rel=\"noreferrer\">\n                          <span><img className=\"links-icon\" src=\"https://res.cloudinary.com/dodneiokm/image/upload/v1607977242/project3-ironhack/link_kj6las.png\" alt='Website icon' />\n                          </span>Website</a>}\n\n                      {this.state.teacher.youtube &&\n                        <a className=\"teacher-links-btn\" href={this.state.teacher.youtube} alt='Youtube button' target=\"_blank\" rel=\"noreferrer\">\n                          <span><img className=\"links-icon\" src=\"https://res.cloudinary.com/dodneiokm/image/upload/v1607976945/project3-ironhack/youtube_hgefuo.png\" alt='Youtube icon' />\n                          </span>Youtube</a>}\n\n                      {this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id &&\n                        <>\n                          <Link to='/profile-teacher/edit-teacher' className=\"teacher-edit mt-5\">Edit details</Link>\n                          <Button onClick={() => this.handleModal(true)} className=\"teacher-delete\">Delete</Button>\n                          <Link to='/profile-teacher/create-course' className=\"course-add mt-5\">Add course</Link>\n                        </>}\n                    </Row>\n                  </aside>\n                </Col>\n\n              </Row>\n\n              <hr></hr>\n\n              <Row>\n                <Col md={12}>\n                  {this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ?\n                    <h2 className=\"mt-5 mb-5\">My Courses</h2>\n                    :\n                    <h2 className=\"mt-5 mb-5\">Teacher's Courses</h2>}\n                </Col>\n              </Row>\n\n              <Row>\n                {this.state.courses.length > 0\n                  ?\n                  this.state.courses.map(elm => <CourseCard key={elm._id} {...elm} teacher={this.props.teacherInfo} userInfo={this.props.loggedUser} deleteCourse={this.deleteCourse} updateFavCourses={this.props.updateFavCourses} />)\n                  :\n                  this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id\n                    ?\n                    <Col className=\"cta\">\n                      <Row className=\"d-flex justify-content-between\">\n                        <p className=\"mt-2 mb-0\">Let's start teaching, <strong>{this.state.teacher.name}</strong>! Create an Engaging Course.</p>\n                        <Link to='/profile-teacher/create-course' className=\"btn btn-success \">Create new course</Link>\n                      </Row>\n                    </Col>\n                    :\n                    <Col className=\"cta\">\n                      <Row className=\"d-flex justify-content-between\">\n                        <p className=\"mt-2 mb-0\">This teacher hasn't created couerses yet.</p>\n                        <Link to='/courses' className=\"btn btn-success \">See more courses</Link>\n                      </Row>\n                    </Col>\n                }\n              </Row>\n            </>\n\n            :\n            <Loader />\n          }\n\n          <Link to=\"/teachers\" className=\"btn btn-outline-dark mt-5\">Go back</Link>\n        </Container>\n      </motion.div>\n    )\n  }\n}\n\n\nexport default TeacherProfile"]},"metadata":{},"sourceType":"module"}