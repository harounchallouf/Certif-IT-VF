{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import{motion}from'framer-motion';import{pageVariants,pageTransition}from'../../shared/PageAnimation/PageAnimation';import CoursesService from'./../../../service/courses.service';import FilesService from'./../../../service/upload.service';import Loader from'../../shared/Spinner/Loader';import{Link}from'react-router-dom';import{Form,Button,Container,Row,Col}from'react-bootstrap';import'./New-Course-form.css';var NewCourseForm=/*#__PURE__*/function(_Component){_inherits(NewCourseForm,_Component);var _super=_createSuper(NewCourseForm);function NewCourseForm(props){var _this;_classCallCheck(this,NewCourseForm);_this=_super.call(this,props);_this.handleInputChange=function(e){return _this.setState({course:_objectSpread(_objectSpread({},_this.state.course),{},_defineProperty({},e.target.name,e.target.value))});};_this.handleSubmit=function(e){e.preventDefault();_this.coursesService.saveCourse(_this.state.course).then(function(){_this.props.history.push('/courses');_this.props.handleToast(true,'New course created!','#d4edda');}).catch(function(err){return _this.props.handleToast(true,err.response.data.message[0].msg,'#f8d7da');});};_this.handleImageUpload=function(e){var uploadData=new FormData();uploadData.append('imageUrl',e.target.files[0]);_this.setState({uploadingActive:true});_this.filesService.uploadImage(uploadData).then(function(response){_this.setState({course:_objectSpread(_objectSpread({},_this.state.course),{},{imageUrl:response.data.secure_url}),uploadingActive:false});}).catch(function(err){return _this.props.handleToast(true,err.response.data.message,'#f8d7da');});};_this.state={course:{title:'',lead:'',description:'',category:'',difficultyLevel:'',whatYouWillLearn:[],price:'',duration:'',requirements:[],imageUrl:_this.props.teacherInfo.imageUrl||'',owner:_this.props.teacherInfo._id||''},uploadingActive:false};_this.coursesService=new CoursesService();_this.filesService=new FilesService();return _this;}_createClass(NewCourseForm,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(motion.div,{initial:\"initial\",animate:\"in\",exit:\"out\",variants:pageVariants,transition:pageTransition,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:{span:8,offset:2},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Create New Course\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"title\",value:this.state.title,onChange:this.handleInputChange,placeholder:\"Eye-catching title\",required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"lead\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Lead Paragraph\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"lead\",value:this.state.lead,onChange:this.handleInputChange,placeholder:\"Eye-catching phrase\",required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"description\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"description\",value:this.state.description,onChange:this.handleInputChange,placeholder:\"Describe your course\",required:true})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"category\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"category\",value:this.state.category,onChange:this.handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose one option\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Design\",children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Development\",children:\"Development\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Marketing\",children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Music\",children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"difficultyLevel\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Level\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"difficultyLevel\",value:this.state.difficultyLevel,onChange:this.handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose one option\"}),/*#__PURE__*/_jsx(\"option\",{value:\"All levels\",children:\"All levels\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Beginner\",children:\"Beginner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intermidiate\",children:\"Intermidiate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Advanced\",children:\"Advanced\"})]})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"whatYouWillLearn\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Main Topics\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"whatYouWillLearn\",value:this.state.whatYouWillLearn,onChange:this.handleInputChange,placeholder:\"The main topics your students will learn\",required:true}),/*#__PURE__*/_jsx(Form.Text,{id:\"whatYouWillLearn\",muted:true,children:\"Separate topics with commas\"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"price\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"price\",value:this.state.price,onChange:this.handleInputChange,min:\"0\",placeholder:\"Don't be greedy...\",required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"duration\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Duration\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"duration\",value:this.state.duration,onChange:this.handleInputChange,min:\"0\",placeholder:\"How many hours?\",required:true})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"requirements\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Requirements\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"requirements\",value:this.state.requirements,onChange:this.handleInputChange,placeholder:\"What is necessary to stay on course?\"}),/*#__PURE__*/_jsx(Form.Text,{id:\"requirements\",muted:true,children:\"Separate requirements with commas\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"videos\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Videos\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"videos\",value:this.state.videos,onChange:this.handleInputChange,placeholder:\"Include here the URLs of your content (audio or video)\"}),/*#__PURE__*/_jsx(Form.Text,{id:\"videos\",muted:true,children:\"Separate URLs with commas\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Image (file: jpg or png) \",this.state.uploadingActive&&/*#__PURE__*/_jsx(Loader,{})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",onChange:this.handleImageUpload})]}),/*#__PURE__*/_jsx(Button,{className:\"mt-3 add-course\",type:\"submit\",disabled:this.state.uploadingActive,children:this.state.uploadingActive?'Image loading...':'Create course'})]}),this.state.uploadingActive||/*#__PURE__*/_jsx(Link,{to:\"/teachers/\".concat(this.props.teacherInfo._id),className:\"btn btn-outline-dark mt-5\",disabled:true,children:\"Go back\"})]})})})});}}]);return NewCourseForm;}(Component);export default NewCourseForm;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/Course-form/New-Course-form.js"],"names":["React","Component","motion","pageVariants","pageTransition","CoursesService","FilesService","Loader","Link","Form","Button","Container","Row","Col","NewCourseForm","props","handleInputChange","e","setState","course","state","target","name","value","handleSubmit","preventDefault","coursesService","saveCourse","then","history","push","handleToast","catch","err","response","data","message","msg","handleImageUpload","uploadData","FormData","append","files","uploadingActive","filesService","uploadImage","imageUrl","secure_url","title","lead","description","category","difficultyLevel","whatYouWillLearn","price","duration","requirements","teacherInfo","owner","_id","span","offset","videos"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport { pageVariants, pageTransition } from '../../shared/PageAnimation/PageAnimation'\nimport CoursesService from './../../../service/courses.service'\nimport FilesService from './../../../service/upload.service'\nimport Loader from '../../shared/Spinner/Loader'\nimport { Link } from 'react-router-dom'\nimport { Form, Button, Container, Row, Col } from 'react-bootstrap'\nimport './New-Course-form.css'\n\n\nclass NewCourseForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            course: {\n                title: '',\n                lead: '',\n                description: '',\n                category: '',\n                difficultyLevel: '',\n                whatYouWillLearn: [],\n                price: '',\n                duration: '',\n                requirements: [],\n                imageUrl: this.props.teacherInfo.imageUrl || '',\n                owner: this.props.teacherInfo._id || ''\n            },\n            uploadingActive: false\n        }\n        this.coursesService = new CoursesService()\n        this.filesService = new FilesService()\n    }\n\n    handleInputChange = e => this.setState({ course: { ...this.state.course, [e.target.name]: e.target.value } })\n\n    handleSubmit = e => {\n        e.preventDefault()\n\n        this.coursesService\n            .saveCourse(this.state.course)\n            .then(() => {\n                this.props.history.push('/courses')\n                this.props.handleToast(true, 'New course created!', '#d4edda')\n            })\n            .catch(err => this.props.handleToast(true, err.response.data.message[0].msg, '#f8d7da'))\n    }\n\n    handleImageUpload = e => {\n        const uploadData = new FormData()\n        uploadData.append('imageUrl', e.target.files[0])\n\n        this.setState({ uploadingActive: true })\n\n        this.filesService\n            .uploadImage(uploadData)\n            .then(response => {\n                this.setState({\n                    course: { ...this.state.course, imageUrl: response.data.secure_url },\n                    uploadingActive: false\n                })\n            })\n            .catch(err => this.props.handleToast(true, err.response.data.message, '#f8d7da'))\n    }\n\n\n    render() {\n        return (\n            <motion.div initial='initial' animate='in' exit='out' variants={pageVariants} transition={pageTransition}>\n                <Container>\n                    <Row>\n                        <Col lg={{ span: 8, offset: 2 }}>\n                            <h1 className=\"mt-5\">Create New Course</h1>\n                            <hr />\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Group controlId=\"title\">\n                                    <Form.Label>Title</Form.Label>\n                                    <Form.Control type=\"text\" name=\"title\" value={this.state.title} onChange={this.handleInputChange} placeholder='Eye-catching title' required />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"lead\">\n                                    <Form.Label>Lead Paragraph</Form.Label>\n                                    <Form.Control type=\"text\" name=\"lead\" value={this.state.lead} onChange={this.handleInputChange} placeholder='Eye-catching phrase' required />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"description\">\n                                    <Form.Label>Description</Form.Label>\n                                    <Form.Control as='textarea' name=\"description\" value={this.state.description} onChange={this.handleInputChange} placeholder='Describe your course' required />\n                                </Form.Group>\n                                <Row>\n                                    <Col md={6}>\n                                        <Form.Group controlId='category'>\n                                            <Form.Label>Category</Form.Label>\n                                            <Form.Control as='select' name='category' value={this.state.category} onChange={this.handleInputChange}>\n                                                <option>Choose one option</option>\n                                                <option value='Design' >Design</option>\n                                                <option value='Development' >Development</option>\n                                                <option value='Marketing' >Marketing</option>\n                                                <option value='Music' >Music</option>\n                                                <option value='Other' >Other</option>\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col md={6}>\n                                        <Form.Group controlId='difficultyLevel'>\n                                            <Form.Label>Level</Form.Label>\n                                            <Form.Control as='select' name='difficultyLevel' value={this.state.difficultyLevel} onChange={this.handleInputChange}>\n                                                <option>Choose one option</option>\n                                                <option value='All levels' >All levels</option>\n                                                <option value='Beginner' >Beginner</option>\n                                                <option value='Intermidiate' >Intermidiate</option>\n                                                <option value='Advanced' >Advanced</option>\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <Form.Group controlId=\"whatYouWillLearn\">\n                                    <Form.Label>Main Topics</Form.Label>\n                                    <Form.Control as='textarea' name=\"whatYouWillLearn\" value={this.state.whatYouWillLearn} onChange={this.handleInputChange} placeholder='The main topics your students will learn' required />\n                                    <Form.Text id='whatYouWillLearn' muted>Separate topics with commas</Form.Text>\n                                </Form.Group>\n                                <Row>\n                                    <Col md={6}>\n                                        <Form.Group controlId=\"price\">\n                                            <Form.Label>Price</Form.Label>\n                                            <Form.Control type=\"number\" name=\"price\" value={this.state.price} onChange={this.handleInputChange} min='0' placeholder=\"Don't be greedy...\" required />\n                                        </Form.Group>\n                                    </Col>\n                                    <Col md={6}>\n                                        <Form.Group controlId=\"duration\">\n                                            <Form.Label>Duration</Form.Label>\n                                            <Form.Control type=\"number\" name=\"duration\" value={this.state.duration} onChange={this.handleInputChange} min='0' placeholder='How many hours?' required />\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <Form.Group controlId=\"requirements\">\n                                    <Form.Label>Requirements</Form.Label>\n                                    <Form.Control as='textarea' name=\"requirements\" value={this.state.requirements} onChange={this.handleInputChange} placeholder='What is necessary to stay on course?' />\n                                    <Form.Text id='requirements' muted>Separate requirements with commas</Form.Text>\n                                </Form.Group>\n\n                                <Form.Group controlId=\"videos\">\n                                    <Form.Label>Videos</Form.Label>\n                                    <Form.Control as='textarea' name=\"videos\" value={this.state.videos} onChange={this.handleInputChange} placeholder='Include here the URLs of your content (audio or video)' />\n                                    <Form.Text id='videos' muted>Separate URLs with commas</Form.Text>\n                                </Form.Group>\n\n                                <Form.Group>\n                                    <Form.Label>Image (file: jpg or png) {this.state.uploadingActive && <Loader />}</Form.Label>\n                                    <Form.Control type=\"file\" onChange={this.handleImageUpload} />\n                                </Form.Group>\n\n                                <Button className=\"mt-3 add-course\" type=\"submit\" disabled={this.state.uploadingActive}>{this.state.uploadingActive ? 'Image loading...' : 'Create course'}</Button>\n                            </Form>\n                            {this.state.uploadingActive || <Link to={`/teachers/${this.props.teacherInfo._id}`} className=\"btn btn-outline-dark mt-5\" disabled>Go back</Link>}\n                        </Col>\n                    </Row>\n\n                </Container>\n            </motion.div>\n        )\n    }\n}\n\nexport default NewCourseForm"]},"metadata":{},"sourceType":"module"}