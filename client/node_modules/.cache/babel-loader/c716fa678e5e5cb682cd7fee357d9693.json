{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{motion}from'framer-motion';import{Link}from'react-router-dom';import{Container,Image,Col,Row,Button}from'react-bootstrap';import CoursesServices from'../../../../service/courses.service';import TeachersServices from'../../../../service/teachers.service';import CourseCard from'../../../shared/CourseCard/Course-card';import Loader from'./../../../shared/Spinner/Loader';import Popup from'../../../shared/Popup/Popup';import DeleteMessage from'../../../shared/Delete-message/DeleteMessage';import'./TeacherProfile.css';var TeacherProfile=/*#__PURE__*/function(_Component){_inherits(TeacherProfile,_Component);var _super=_createSuper(TeacherProfile);function TeacherProfile(){var _this;_classCallCheck(this,TeacherProfile);_this=_super.call(this);_this.componentDidMount=function(){return _this.refreshTeacher();};_this.refreshTeacher=function(){var teacher_id=_this.props.match.params.teacher_id;var getTeacher=_this.teachersServices.getTheTeacher(teacher_id);var getCourses=_this.coursesServices.getTeacherCourses(teacher_id);Promise.all([getTeacher,getCourses]).then(function(response){return _this.setState({teacher:response[0].data,courses:response[1].data});}).catch(function(){_this.props.history.push('/teachers');_this.props.handleToast(true,'An error has occurred, please try again later','#f8d7da');});};_this.deleteCourse=function(course_Id){_this.coursesServices.deleteCourse(course_Id).then(function(){_this.refreshTeacher();_this.props.handleToast(true,'Delete successful!','#d4edda');}).catch(function(){_this.props.history.push('/profile');_this.props.handleToast(true,'An error has occurred while deleting, please try again later','#f8d7da');});};_this.deleteTeacher=function(){var teacher_Id=_this.state.teacher._id;_this.teachersServices.deleteTeacher(teacher_Id).then(function(){_this.props.storeUser(_this.props.loggedUser);_this.props.history.push('/profile');_this.props.handleToast(true,'Delete successful!','#d4edda');}).catch(function(){_this.props.history.push('/profile');_this.props.handleToast(true,'An error has occurred while deleting, please try again later','#f8d7da');});};_this.handleModal=function(visible){return _this.setState({showModal:visible});};_this.state={teacher:undefined,courses:undefined,showModal:false};_this.teachersServices=new TeachersServices();_this.coursesServices=new CoursesServices();return _this;}_createClass(TeacherProfile,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsxs(Popup,{show:this.state.showModal,handleModal:this.handleModal,color:'#f8d7da',children:[/*#__PURE__*/_jsx(DeleteMessage,{}),/*#__PURE__*/_jsxs(Row,{className:\"justify-content-center\",children:[/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return _this2.handleModal(false);},children:\"Close\"})}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsx(Button,{onClick:this.deleteTeacher,variant:\"danger\",children:\"Delete teacher\"})})]})]}),/*#__PURE__*/_jsxs(Container,{className:\"teacher-profile\",children:[this.state.teacher?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:{span:8},lg:{span:8},children:[/*#__PURE__*/_jsx(\"p\",{className:\"instructor\",style:{color:'#73726c'},children:\"INSTRUCTOR\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[this.state.teacher.name,\" \",this.state.teacher.surname,\" \"]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:this.state.teacher.jobOccupation})}),/*#__PURE__*/_jsx(\"hr\",{}),this.props.teacherInfo&&this.props.teacherInfo._id===this.state.teacher._id?/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"About me\"})}):/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"About the theacher\"})}),/*#__PURE__*/_jsx(\"p\",{children:this.state.teacher.description})]}),/*#__PURE__*/_jsx(Col,{md:{span:4},lg:{span:3,offset:1},children:/*#__PURE__*/_jsxs(\"aside\",{className:\"d-flex align-items-center flex-column teacher-badge\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Image,{src:this.state.teacher.imageUrl,className:\"user-img mb-3\",roundedCircle:true,alt:this.state.teacher.name})}),/*#__PURE__*/_jsxs(Row,{className:\"mt-3 mb-3\",children:[this.state.teacher.linkedin&&/*#__PURE__*/_jsxs(\"a\",{className:\"teacher-links-btn\",href:this.state.teacher.linkedin,alt:\"Linkedin button\",target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"links-icon\",src:\"https://res.cloudinary.com/dodneiokm/image/upload/v1607977090/project3-ironhack/linkedin_3_zpvz48.png\",alt:\"Linkedin icon\"})}),\"Linkedin\"]}),this.state.teacher.website&&/*#__PURE__*/_jsxs(\"a\",{className:\"teacher-links-btn\",href:this.state.teacher.website,alt:\"Website button\",target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"links-icon\",src:\"https://res.cloudinary.com/dodneiokm/image/upload/v1607977242/project3-ironhack/link_kj6las.png\",alt:\"Website icon\"})}),\"Website\"]}),this.state.teacher.youtube&&/*#__PURE__*/_jsxs(\"a\",{className:\"teacher-links-btn\",href:this.state.teacher.youtube,alt:\"Youtube button\",target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"links-icon\",src:\"https://res.cloudinary.com/dodneiokm/image/upload/v1607976945/project3-ironhack/youtube_hgefuo.png\",alt:\"Youtube icon\"})}),\"Youtube\"]}),this.props.teacherInfo&&this.props.teacherInfo._id===this.state.teacher._id&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/profile-teacher/edit-teacher\",className:\"teacher-edit mt-5\",children:\"Edit details\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.handleModal(true);},className:\"teacher-delete\",children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile-teacher/create-course\",className:\"course-add mt-5\",children:\"Add course\"})]})]})]})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:12,children:this.props.teacherInfo&&this.props.teacherInfo._id===this.state.teacher._id?/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5 mb-5\",children:\"My Courses\"}):/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5 mb-5\",children:\"Teacher's Courses\"})})}),/*#__PURE__*/_jsx(Row,{children:this.state.courses.length>0?this.state.courses.map(function(elm){return/*#__PURE__*/_jsx(CourseCard,_objectSpread(_objectSpread({},elm),{},{teacher:_this2.props.teacherInfo,userInfo:_this2.props.loggedUser,deleteCourse:_this2.deleteCourse,updateFavCourses:_this2.props.updateFavCourses}),elm._id);}):this.props.teacherInfo&&this.props.teacherInfo._id===this.state.teacher._id?/*#__PURE__*/_jsx(Col,{className:\"cta\",children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 mb-0\",children:[\"Let's start teaching, \",/*#__PURE__*/_jsx(\"strong\",{children:this.state.teacher.name}),\"! Create an Engaging Course.\"]}),/*#__PURE__*/_jsx(Link,{to:\"/profile-teacher/create-course\",className:\"btn btn-success \",children:\"Create new course\"})]})}):/*#__PURE__*/_jsx(Col,{className:\"cta\",children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 mb-0\",children:\"This teacher hasn't created couerses yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/courses\",className:\"btn btn-success \",children:\"See more courses\"})]})})})]}):/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(Link,{to:\"/teachers\",className:\"btn btn-outline-dark mt-5\",children:\"Go back\"})]})]});}}]);return TeacherProfile;}(Component);export default TeacherProfile;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/Profiles/TeacherProfile/TeacherProfile.js"],"names":["React","Component","motion","Link","Container","Image","Col","Row","Button","CoursesServices","TeachersServices","CourseCard","Loader","Popup","DeleteMessage","TeacherProfile","componentDidMount","refreshTeacher","teacher_id","props","match","params","getTeacher","teachersServices","getTheTeacher","getCourses","coursesServices","getTeacherCourses","Promise","all","then","response","setState","teacher","data","courses","catch","history","push","handleToast","deleteCourse","course_Id","deleteTeacher","teacher_Id","state","_id","storeUser","loggedUser","handleModal","visible","showModal","undefined","opacity","span","color","name","surname","jobOccupation","teacherInfo","description","offset","imageUrl","linkedin","website","youtube","length","map","elm","updateFavCourses"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport { Link } from 'react-router-dom'\nimport { Container, Image, Col, Row, Button } from 'react-bootstrap'\nimport CoursesServices from '../../../../service/courses.service'\nimport TeachersServices from '../../../../service/teachers.service'\nimport CourseCard from '../../../shared/CourseCard/Course-card'\nimport Loader from './../../../shared/Spinner/Loader'\nimport Popup from '../../../shared/Popup/Popup'\nimport DeleteMessage from '../../../shared/Delete-message/DeleteMessage'\nimport './TeacherProfile.css'\n\n\nclass TeacherProfile extends Component {\n  constructor() {\n    super()\n    this.state = {\n      teacher: undefined,\n      courses: undefined,\n      showModal: false\n    }\n    this.teachersServices = new TeachersServices()\n    this.coursesServices = new CoursesServices()\n  }\n\n  componentDidMount = () => this.refreshTeacher()\n\n  refreshTeacher = () => {\n    const teacher_id = this.props.match.params.teacher_id\n    const getTeacher = this.teachersServices.getTheTeacher(teacher_id)\n    const getCourses = this.coursesServices.getTeacherCourses(teacher_id)\n\n    Promise.all([getTeacher, getCourses])\n      .then(response => this.setState({ teacher: response[0].data, courses: response[1].data }))\n      .catch(() => {\n        this.props.history.push('/teachers')\n        this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n      })\n  }\n\n  deleteCourse = course_Id => {\n    this.coursesServices\n      .deleteCourse(course_Id)\n      .then(() => {\n        this.refreshTeacher()\n        this.props.handleToast(true, 'Delete successful!', '#d4edda')\n      })\n      .catch(() => {\n        this.props.history.push('/profile')\n        this.props.handleToast(true, 'An error has occurred while deleting, please try again later', '#f8d7da')\n      })\n  }\n\n  deleteTeacher = () => {\n    const teacher_Id = this.state.teacher._id\n\n    this.teachersServices\n      .deleteTeacher(teacher_Id)\n      .then(() => {\n        this.props.storeUser(this.props.loggedUser)\n        this.props.history.push('/profile')\n        this.props.handleToast(true, 'Delete successful!', '#d4edda')\n      })\n      .catch(() => {\n        this.props.history.push('/profile')\n        this.props.handleToast(true, 'An error has occurred while deleting, please try again later', '#f8d7da')\n      })\n  }\n\n  handleModal = visible => this.setState({ showModal: visible })\n\n  render() {\n    return (\n      <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n\n        <Popup show={this.state.showModal} handleModal={this.handleModal} color={'#f8d7da'}>\n          <DeleteMessage />\n          <Row className='justify-content-center'>\n            <Col xs='auto'>\n              <Button variant='secondary' onClick={() => this.handleModal(false)}>Close</Button>\n            </Col>\n            <Col xs='auto'>\n              <Button onClick={this.deleteTeacher} variant='danger'>Delete teacher</Button>\n            </Col>\n          </Row>\n        </Popup>\n\n        <Container className=\"teacher-profile\">\n          {this.state.teacher ?\n            <>\n              <Row>\n\n                <Col md={{ span: 8 }} lg={{ span: 8 }}>\n                  <p className=\"instructor\" style={{ color: '#73726c' }}>INSTRUCTOR</p>\n                  <h1>{this.state.teacher.name} {this.state.teacher.surname} </h1>\n                  <p><strong>{this.state.teacher.jobOccupation}</strong></p>\n                  <hr></hr>\n                  {this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ?\n                    <h3><strong>About me</strong></h3>\n                    :\n                    <h3><strong>About the theacher</strong></h3>}\n\n                  <p>{this.state.teacher.description}</p>\n                </Col>\n                <Col md={{ span: 4 }} lg={{ span: 3, offset: 1 }} >\n                  <aside className=\"d-flex align-items-center flex-column teacher-badge\">\n                    <Row>\n                      <Image src={this.state.teacher.imageUrl} className=\"user-img mb-3\" roundedCircle alt={this.state.teacher.name} />\n                    </Row>\n\n                    <Row className=\"mt-3 mb-3\">\n                      {this.state.teacher.linkedin &&\n                        <a className=\"teacher-links-btn\" href={this.state.teacher.linkedin} alt='Linkedin button' target=\"_blank\" rel=\"noreferrer\">\n                          <span><img className=\"links-icon\" src=\"https://res.cloudinary.com/dodneiokm/image/upload/v1607977090/project3-ironhack/linkedin_3_zpvz48.png\" alt='Linkedin icon' />\n                          </span>Linkedin</a>}\n\n                      {this.state.teacher.website &&\n                        <a className=\"teacher-links-btn\" href={this.state.teacher.website} alt='Website button' target=\"_blank\" rel=\"noreferrer\">\n                          <span><img className=\"links-icon\" src=\"https://res.cloudinary.com/dodneiokm/image/upload/v1607977242/project3-ironhack/link_kj6las.png\" alt='Website icon' />\n                          </span>Website</a>}\n\n                      {this.state.teacher.youtube &&\n                        <a className=\"teacher-links-btn\" href={this.state.teacher.youtube} alt='Youtube button' target=\"_blank\" rel=\"noreferrer\">\n                          <span><img className=\"links-icon\" src=\"https://res.cloudinary.com/dodneiokm/image/upload/v1607976945/project3-ironhack/youtube_hgefuo.png\" alt='Youtube icon' />\n                          </span>Youtube</a>}\n\n                      {this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id &&\n                        <>\n                          <Link to='/profile-teacher/edit-teacher' className=\"teacher-edit mt-5\">Edit details</Link>\n                          <Button onClick={() => this.handleModal(true)} className=\"teacher-delete\">Delete</Button>\n                          <Link to='/profile-teacher/create-course' className=\"course-add mt-5\">Add course</Link>\n                        </>}\n                    </Row>\n                  </aside>\n                </Col>\n\n              </Row>\n\n              <hr></hr>\n\n              <Row>\n                <Col md={12}>\n                  {this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id ?\n                    <h2 className=\"mt-5 mb-5\">My Courses</h2>\n                    :\n                    <h2 className=\"mt-5 mb-5\">Teacher's Courses</h2>}\n                </Col>\n              </Row>\n\n              <Row>\n                {this.state.courses.length > 0\n                  ?\n                  this.state.courses.map(elm => <CourseCard key={elm._id} {...elm} teacher={this.props.teacherInfo} userInfo={this.props.loggedUser} deleteCourse={this.deleteCourse} updateFavCourses={this.props.updateFavCourses} />)\n                  :\n                  this.props.teacherInfo && this.props.teacherInfo._id === this.state.teacher._id\n                    ?\n                    <Col className=\"cta\">\n                      <Row className=\"d-flex justify-content-between\">\n                        <p className=\"mt-2 mb-0\">Let's start teaching, <strong>{this.state.teacher.name}</strong>! Create an Engaging Course.</p>\n                        <Link to='/profile-teacher/create-course' className=\"btn btn-success \">Create new course</Link>\n                      </Row>\n                    </Col>\n                    :\n                    <Col className=\"cta\">\n                      <Row className=\"d-flex justify-content-between\">\n                        <p className=\"mt-2 mb-0\">This teacher hasn't created couerses yet.</p>\n                        <Link to='/courses' className=\"btn btn-success \">See more courses</Link>\n                      </Row>\n                    </Col>\n                }\n              </Row>\n            </>\n\n            :\n            <Loader />\n          }\n\n          <Link to=\"/teachers\" className=\"btn btn-outline-dark mt-5\">Go back</Link>\n        </Container>\n      </motion.div>\n    )\n  }\n}\n\n\nexport default TeacherProfile"]},"metadata":{},"sourceType":"module"}