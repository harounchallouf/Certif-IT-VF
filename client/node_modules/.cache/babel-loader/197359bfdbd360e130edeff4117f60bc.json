{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{motion}from'framer-motion';import CoursesService from'./../../../service/courses.service';import SearchBar from'./../../shared/SearchBar/SearchBar';import NoMatchesMsg from'../../shared/NoMatches-message/NoMatches-msg.js';import CourseCard from'../../shared/CourseCard/Course-card';import Loader from'./../../shared/Spinner/Loader';import'./Course-list.css';import{Container,Row}from'react-bootstrap';var CoursesList=/*#__PURE__*/function(_Component){_inherits(CoursesList,_Component);var _super=_createSuper(CoursesList);function CoursesList(){var _this;_classCallCheck(this,CoursesList);_this=_super.call(this);_this.componentDidMount=function(){return _this.refreshCourses();};_this.refreshCourses=function(){_this.coursesService.getCourses().then(function(res){return _this.setState({courses:res.data,filteredCourses:_toConsumableArray(res.data)});}).catch(function(){_this.props.history.push('/');_this.props.handleToast(true,'An error has occurred, please try again later','#f8d7da');});};_this.filterBySearch=function(value){return _this.setState({filteredCourses:_toConsumableArray(_this.state.courses).filter(function(elm){return elm.title.toLowerCase().includes(value.toLowerCase());})});};_this.filterByCategory=function(option){return option!=='default'?_this.setState({filteredCourses:_toConsumableArray(_this.state.filteredCourses).filter(function(elm){return elm.category===option;})}):_this.setState({filteredCourses:_toConsumableArray(_this.state.courses)});};_this.filterByLevel=function(option){return option!=='default'?_this.setState({filteredCourses:_toConsumableArray(_this.state.filteredCourses).filter(function(elm){return elm.difficultyLevel===option;})}):_this.setState({filteredCourses:_toConsumableArray(_this.state.courses)});};_this.sortBy=function(option){var filteredCoursesCopy=_toConsumableArray(_this.state.filteredCourses);switch(option){case'Name-A':_this.setState({filteredCourses:filteredCoursesCopy.sort(function(a,b){return a.title>b.title?1:-1;})});break;case'Name-Z':_this.setState({filteredCourses:filteredCoursesCopy.sort(function(a,b){return a.title<b.title?1:-1;})});break;case'Price-asc':_this.setState({filteredCourses:filteredCoursesCopy.sort(function(a,b){return a.price>b.price?1:-1;})});break;case'Price-desc':_this.setState({filteredCourses:filteredCoursesCopy.sort(function(a,b){return a.price<b.price?1:-1;})});break;default:_this.setState({filteredCourses:_toConsumableArray(_this.state.courses)});break;}};_this.state={courses:undefined,filteredCourses:[]};_this.coursesService=new CoursesService();return _this;}_createClass(CoursesList,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsx(\"section\",{className:\"container-fluid courses-hero\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Our courses\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Help individuals reach their goals and pursue their dreams.\"}),/*#__PURE__*/_jsx(SearchBar,{filterBySearch:this.filterBySearch,filterByCategory:this.filterByCategory,filterByLevel:this.filterByLevel,sortBy:this.sortBy})]})})}),/*#__PURE__*/_jsx(\"section\",{className:\"courses-list\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:this.state.courses&&this.state.filteredCourses?this.state.filteredCourses.length===0?/*#__PURE__*/_jsx(NoMatchesMsg,{}):this.state.filteredCourses.map(function(elm){return/*#__PURE__*/_jsx(CourseCard,_objectSpread(_objectSpread({},elm),{},{userInfo:_this2.props.loggedUser,teacher:_this2.props.teacherInfo,updateFavCourses:_this2.props.updateFavCourses}),elm._id);}):/*#__PURE__*/_jsx(Loader,{})})})})]});}}]);return CoursesList;}(Component);export default CoursesList;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/Courses-list/Courses-list.js"],"names":["React","Component","motion","CoursesService","SearchBar","NoMatchesMsg","CourseCard","Loader","Container","Row","CoursesList","componentDidMount","refreshCourses","coursesService","getCourses","then","res","setState","courses","data","filteredCourses","catch","props","history","push","handleToast","filterBySearch","value","state","filter","elm","title","toLowerCase","includes","filterByCategory","option","category","filterByLevel","difficultyLevel","sortBy","filteredCoursesCopy","sort","a","b","price","undefined","opacity","length","map","loggedUser","teacherInfo","updateFavCourses","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport CoursesService from './../../../service/courses.service'\nimport SearchBar from './../../shared/SearchBar/SearchBar'\nimport NoMatchesMsg from '../../shared/NoMatches-message/NoMatches-msg.js'\nimport CourseCard from '../../shared/CourseCard/Course-card'\nimport Loader from './../../shared/Spinner/Loader'\nimport './Course-list.css'\n\nimport { Container, Row } from 'react-bootstrap'\n\nclass CoursesList extends Component {\n    constructor() {\n        super()\n        this.state = {\n            courses: undefined,\n            filteredCourses: []\n        }\n        this.coursesService = new CoursesService()\n    }\n\n    componentDidMount = () => this.refreshCourses()\n\n    refreshCourses = () => {\n        this.coursesService\n            .getCourses()\n            .then(res => this.setState({ courses: res.data, filteredCourses: [...res.data] }))\n            .catch(() => {\n                this.props.history.push('/')\n                this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n            })\n    }\n\n    filterBySearch = value => this.setState({ filteredCourses: [...this.state.courses].filter(elm => elm.title.toLowerCase().includes(value.toLowerCase())) })\n\n    filterByCategory = option => option !== 'default' ?\n        this.setState({ filteredCourses: [...this.state.filteredCourses].filter(elm => elm.category === option) })\n        : this.setState({ filteredCourses: [...this.state.courses] })\n\n    filterByLevel = option => option !== 'default' ?\n        this.setState({ filteredCourses: [...this.state.filteredCourses].filter(elm => elm.difficultyLevel === option) })\n        : this.setState({ filteredCourses: [...this.state.courses] })\n\n    sortBy = option => {\n        const filteredCoursesCopy = [...this.state.filteredCourses]\n        switch (option) {\n            case 'Name-A': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.title > b.title) ? 1 : -1) })\n                break;\n            case 'Name-Z': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.title < b.title) ? 1 : -1) })\n                break;\n            case 'Price-asc': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.price > b.price) ? 1 : -1) })\n                break;\n            case 'Price-desc': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.price < b.price) ? 1 : -1) })\n                break;\n            default: this.setState({ filteredCourses: [...this.state.courses] })\n                break;\n        }\n    }\n\n    render() {\n        return (\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} >\n                <section className=\"container-fluid courses-hero\">\n\n                    <Container>\n                        <div className=\"heading\">\n                            <h1 className=\"mt-5\">Our courses</h1>\n                            <p>Help individuals reach their goals and pursue their dreams.</p>\n                            <SearchBar filterBySearch={this.filterBySearch} filterByCategory={this.filterByCategory} filterByLevel={this.filterByLevel} sortBy={this.sortBy} />\n                        </div>\n                    </Container>\n\n                </section>\n                <section className=\"courses-list\">\n                    <Container >\n                        <Row>\n                            {this.state.courses && this.state.filteredCourses ?\n                                this.state.filteredCourses.length === 0 ?\n                                    <NoMatchesMsg />\n                                    :\n                                this.state.filteredCourses.map(elm =>\n                                    <CourseCard key={elm._id} {...elm} userInfo={this.props.loggedUser} teacher={this.props.teacherInfo} updateFavCourses={this.props.updateFavCourses} />)\n                                :\n                                <Loader />\n                            }\n                            \n                            {/* {this.state.courses ?\n                                this.state.filteredCourses.map(elm =>\n                                    <CourseCard key={elm._id} {...elm} userInfo={this.props.loggedUser} teacher={this.props.teacherInfo} updateFavCourses={this.props.updateFavCourses} />)\n                                :\n                                <Loader />\n                            } */}\n                        </Row>\n                    </Container>\n                </section>\n\n            </motion.div>\n        )\n    }\n}\n\nexport default CoursesList"]},"metadata":{},"sourceType":"module"}