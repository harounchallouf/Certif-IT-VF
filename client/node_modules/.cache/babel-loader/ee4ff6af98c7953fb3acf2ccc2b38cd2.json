{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\project-3-master\\\\client\\\\src\\\\components\\\\pages\\\\Courses-list\\\\Courses-list.js\";\nimport React, { Component } from 'react';\nimport { motion } from 'framer-motion';\nimport CoursesService from './../../../service/courses.service';\nimport SearchBar from './../../shared/SearchBar/SearchBar';\nimport NoMatchesMsg from '../../shared/NoMatches-message/NoMatches-msg.js';\nimport CourseCard from '../../shared/CourseCard/Course-card';\nimport Loader from './../../shared/Spinner/Loader';\nimport './Course-list.css';\nimport { Container, Row } from 'react-bootstrap';\n\nclass CoursesList extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => this.refreshCourses();\n\n    this.refreshCourses = () => {\n      this.coursesService.getCourses().then(res => this.setState({\n        courses: res.data,\n        filteredCourses: [...res.data]\n      })).catch(() => {\n        // this.props.history.push('/')\n        if (this.props.handleToast) this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da');\n      });\n    };\n\n    this.filterBySearch = value => this.setState({\n      filteredCourses: [...this.state.courses].filter(elm => elm.title.toLowerCase().includes(value.toLowerCase()))\n    });\n\n    this.filterByCategory = option => option !== 'default' ? this.setState({\n      filteredCourses: [...this.state.filteredCourses].filter(elm => elm.category === option)\n    }) : this.setState({\n      filteredCourses: [...this.state.courses]\n    });\n\n    this.filterByLevel = option => option !== 'default' ? this.setState({\n      filteredCourses: [...this.state.filteredCourses].filter(elm => elm.difficultyLevel === option)\n    }) : this.setState({\n      filteredCourses: [...this.state.courses]\n    });\n\n    this.sortBy = option => {\n      const filteredCoursesCopy = [...this.state.filteredCourses];\n\n      switch (option) {\n        case 'Name-A':\n          this.setState({\n            filteredCourses: filteredCoursesCopy.sort((a, b) => a.title > b.title ? 1 : -1)\n          });\n          break;\n\n        case 'Name-Z':\n          this.setState({\n            filteredCourses: filteredCoursesCopy.sort((a, b) => a.title < b.title ? 1 : -1)\n          });\n          break;\n\n        case 'Price-asc':\n          this.setState({\n            filteredCourses: filteredCoursesCopy.sort((a, b) => a.price > b.price ? 1 : -1)\n          });\n          break;\n\n        case 'Price-desc':\n          this.setState({\n            filteredCourses: filteredCoursesCopy.sort((a, b) => a.price < b.price ? 1 : -1)\n          });\n          break;\n\n        default:\n          this.setState({\n            filteredCourses: [...this.state.courses]\n          });\n          break;\n      }\n    };\n\n    this.state = {\n      courses: undefined,\n      filteredCourses: []\n    };\n    this.coursesService = new CoursesService();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      exit: {\n        opacity: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"container-fluid courses-hero\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"mt-5\",\n              children: \"Our courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Help individuals reach their goals and pursue their dreams.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n              filterBySearch: this.filterBySearch,\n              filterByCategory: this.filterByCategory,\n              filterByLevel: this.filterByLevel,\n              sortBy: this.sortBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"courses-list\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: this.state.courses && this.state.filteredCourses ? this.state.filteredCourses.length === 0 ? /*#__PURE__*/_jsxDEV(NoMatchesMsg, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this) : this.state.filteredCourses.map(elm => /*#__PURE__*/_jsxDEV(CourseCard, { ...elm,\n              userInfo: this.props.loggedUser,\n              teacher: this.props.teacherInfo,\n              updateFavCourses: this.props.updateFavCourses\n            }, elm._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this)) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CoursesList;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/Courses-list/Courses-list.js"],"names":["React","Component","motion","CoursesService","SearchBar","NoMatchesMsg","CourseCard","Loader","Container","Row","CoursesList","constructor","componentDidMount","refreshCourses","coursesService","getCourses","then","res","setState","courses","data","filteredCourses","catch","props","handleToast","filterBySearch","value","state","filter","elm","title","toLowerCase","includes","filterByCategory","option","category","filterByLevel","difficultyLevel","sortBy","filteredCoursesCopy","sort","a","b","price","undefined","render","opacity","length","map","loggedUser","teacherInfo","updateFavCourses","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport CoursesService from './../../../service/courses.service'\nimport SearchBar from './../../shared/SearchBar/SearchBar'\nimport NoMatchesMsg from '../../shared/NoMatches-message/NoMatches-msg.js'\nimport CourseCard from '../../shared/CourseCard/Course-card'\nimport Loader from './../../shared/Spinner/Loader'\nimport './Course-list.css'\n\nimport { Container, Row } from 'react-bootstrap'\n\nclass CoursesList extends Component {\n    constructor() {\n        super()\n        this.state = {\n            courses: undefined,\n            filteredCourses: []\n        }\n        this.coursesService = new CoursesService()\n    }\n\n    componentDidMount = () => this.refreshCourses()\n\n    refreshCourses = () => {\n        this.coursesService\n            .getCourses()\n            .then(res => this.setState({ courses: res.data, filteredCourses: [...res.data] }))\n            .catch(() => {\n                // this.props.history.push('/')\n                if (this.props.handleToast) this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n            })\n    }\n\n    filterBySearch = value => this.setState({ filteredCourses: [...this.state.courses].filter(elm => elm.title.toLowerCase().includes(value.toLowerCase())) })\n\n    filterByCategory = option => option !== 'default' ?\n        this.setState({ filteredCourses: [...this.state.filteredCourses].filter(elm => elm.category === option) })\n        : this.setState({ filteredCourses: [...this.state.courses] })\n\n    filterByLevel = option => option !== 'default' ?\n        this.setState({ filteredCourses: [...this.state.filteredCourses].filter(elm => elm.difficultyLevel === option) })\n        : this.setState({ filteredCourses: [...this.state.courses] })\n\n    sortBy = option => {\n        const filteredCoursesCopy = [...this.state.filteredCourses]\n        switch (option) {\n            case 'Name-A': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.title > b.title) ? 1 : -1) })\n                break;\n            case 'Name-Z': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.title < b.title) ? 1 : -1) })\n                break;\n            case 'Price-asc': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.price > b.price) ? 1 : -1) })\n                break;\n            case 'Price-desc': this.setState({ filteredCourses: filteredCoursesCopy.sort((a, b) => (a.price < b.price) ? 1 : -1) })\n                break;\n            default: this.setState({ filteredCourses: [...this.state.courses] })\n                break;\n        }\n    }\n\n    render() {\n        return (\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} >\n                <section className=\"container-fluid courses-hero\">\n\n                    <Container>\n                        <div className=\"heading\">\n                            <h1 className=\"mt-5\">Our courses</h1>\n                            <p>Help individuals reach their goals and pursue their dreams.</p>\n                            <SearchBar filterBySearch={this.filterBySearch} filterByCategory={this.filterByCategory} filterByLevel={this.filterByLevel} sortBy={this.sortBy} />\n                        </div>\n                    </Container>\n\n                </section>\n                <section className=\"courses-list\">\n                    <Container >\n                        <Row>\n                            {this.state.courses && this.state.filteredCourses ?\n                                this.state.filteredCourses.length === 0 ?\n                                    <NoMatchesMsg />\n                                    :\n                                this.state.filteredCourses.map(elm =>\n                                    <CourseCard key={elm._id} {...elm} userInfo={this.props.loggedUser} teacher={this.props.teacherInfo} updateFavCourses={this.props.updateFavCourses} />)\n                                :\n                                <Loader />\n                            }\n                            \n                            {/* {this.state.courses ?\n                                this.state.filteredCourses.map(elm =>\n                                    <CourseCard key={elm._id} {...elm} userInfo={this.props.loggedUser} teacher={this.props.teacherInfo} updateFavCourses={this.props.updateFavCourses} />)\n                                :\n                                <Loader />\n                            } */}\n                        </Row>\n                    </Container>\n                </section>\n\n            </motion.div>\n        )\n    }\n}\n\nexport default CoursesList"]},"metadata":{},"sourceType":"module"}