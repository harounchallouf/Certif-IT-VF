{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\project-3-master\\\\client\\\\src\\\\components\\\\App.js\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { AnimatePresence } from 'framer-motion';\nimport AuthServices from './../service/auth.service';\nimport TeachersServices from './../service/teachers.service';\nimport UsersService from '../service/users.service';\nimport Navigation from './layout/navigation/Navigation';\nimport Footer from './layout/Footer/Footer';\nimport Home from './pages/Home/Home';\nimport CoursesList from './pages/Courses-list/Courses-list';\nimport CourseDetails from './pages/Course-details/Course-details';\nimport NewCourseForm from './pages/Course-form/New-Course-form';\nimport EditCourseForm from './pages/Course-form/Edit-Course-form';\nimport Signup from './pages/Signup/Signup';\nimport UserProfile from './pages/Profiles/UserProfile/UserProfile';\nimport EditUserForm from './pages/Profiles/UserProfile/EditUserForm';\nimport TeachersList from './pages/TeachersList/TeachersList';\nimport TeacherProfile from './pages/Profiles/TeacherProfile/TeacherProfile';\nimport NewTeacherForm from './pages/Profiles/TeacherProfile/Create-Teacher-form';\nimport EditTeacherForm from './pages/Profiles/TeacherProfile/Edit-Teacher-Form';\nimport Alert from './shared/Alert/Alert';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => this.refreshUser();\n\n    this.refreshUser = () => {\n      this.authServices.isLoggedIn().then(response => this.setTheUser(response.data)).catch(() => this.setTheUser(undefined));\n    };\n\n    this.setTheUser = user => {\n      this.setState({\n        loggedInUser: user\n      });\n      user ? this.teachersServices.getTeacher(this.state.loggedInUser._id).then(response => this.setState({\n        teacher: response.data[0]\n      })).catch(() => this.setState({\n        teacher: undefined\n      })) : this.setState({\n        teacher: undefined\n      });\n    };\n\n    this.handleToast = (visible, text, color) => this.setState({\n      showToast: visible,\n      toastText: text,\n      toastColor: color\n    });\n\n    this.updateFavCourses = item_id => {\n      if (this.state.loggedInUser) {\n        const newList = [...this.state.loggedInUser.favCourses].some(elm => elm === item_id) ? [...this.state.loggedInUser.favCourses].filter(elm => elm !== item_id) : [...this.state.loggedInUser.favCourses, item_id];\n        this.usersServices.updateFavCourses(this.state.loggedInUser._id, newList).then(() => this.refreshUser()).catch(() => this.handleToast(true, 'An error has occurred, please try again later', '#f8d7da'));\n      }\n    };\n\n    this.updateFavTeachers = item_id => {\n      if (this.state.loggedInUser) {\n        const newList = [...this.state.loggedInUser.favTeachers].some(elm => elm === item_id) ? [...this.state.loggedInUser.favTeachers].filter(elm => elm !== item_id) : [...this.state.loggedInUser.favTeachers, item_id];\n        this.usersServices.updateFavTeachers(this.state.loggedInUser._id, newList).then(() => this.refreshUser()).catch(() => this.handleToast(true, 'An error has occurred, please try again later', '#f8d7da'));\n      }\n    };\n\n    this.state = {\n      loggedInUser: undefined,\n      teacher: undefined,\n      showToast: false,\n      toastText: '',\n      toastColor: ''\n    };\n    this.authServices = new AuthServices();\n    this.teachersServices = new TeachersServices();\n    this.usersServices = new UsersService();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {\n        storeUser: this.setTheUser,\n        loggedUser: this.state.loggedInUser,\n        handleToast: this.handleToast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              exact: true,\n              component: Home,\n              render: props => /*#__PURE__*/_jsxDEV(Home, { ...props,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 77\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/courses\",\n              exact: true,\n              component: CoursesList,\n              render: props => /*#__PURE__*/_jsxDEV(CoursesList, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                updateFavCourses: this.updateFavCourses,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 91\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/courses/:course_id\",\n              render: props => /*#__PURE__*/_jsxDEV(CourseDetails, { ...props,\n                handleToast: this.handleToast,\n                teacherInfo: this.state.teacher,\n                loggedUser: this.state.loggedInUser\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/teachers\",\n              render: props => /*#__PURE__*/_jsxDEV(TeachersList, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                updateFavTeachers: this.updateFavTeachers,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/teachers/:teacher_id\",\n              render: props => /*#__PURE__*/_jsxDEV(TeacherProfile, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                storeUser: this.setTheUser,\n                updateFavCourses: this.updateFavCourses,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 68\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signup\",\n              render: props => this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/courses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 80\n              }, this) : /*#__PURE__*/_jsxDEV(Signup, { ...props,\n                handleToast: this.handleToast,\n                storeUser: this.setTheUser\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 109\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/profile\",\n              render: props => this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(UserProfile, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                storeUser: this.setTheUser,\n                updateFavCourses: this.updateFavCourses,\n                updateFavTeachers: this.updateFavTeachers,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 87\n              }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 329\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/profile/edit-user\",\n              render: props => this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(EditUserForm, { ...props,\n                loggedUser: this.state.loggedInUser,\n                storeUser: this.setTheUser,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 91\n              }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 217\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/profile/create-teacher\",\n              render: props => this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(NewTeacherForm, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                storeUser: this.setTheUser,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 96\n              }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 257\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/profile-teacher/edit-teacher\",\n              render: props => this.state.loggedInUser ? /*#__PURE__*/_jsxDEV(EditTeacherForm, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                storeUser: this.setTheUser,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 102\n              }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 264\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/profile-teacher/create-course\",\n              render: props => this.state.teacher ? /*#__PURE__*/_jsxDEV(NewCourseForm, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 98\n              }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 230\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/profile-teacher/edit-course/:course_id\",\n              render: props => this.state.teacher ? /*#__PURE__*/_jsxDEV(EditCourseForm, { ...props,\n                loggedUser: this.state.loggedInUser,\n                teacherInfo: this.state.teacher,\n                handleToast: this.handleToast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 107\n              }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n                to: \"/signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 240\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          show: this.state.showToast,\n          handleToast: this.handleToast,\n          toastText: this.state.toastText,\n          color: this.state.toastColor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","AnimatePresence","AuthServices","TeachersServices","UsersService","Navigation","Footer","Home","CoursesList","CourseDetails","NewCourseForm","EditCourseForm","Signup","UserProfile","EditUserForm","TeachersList","TeacherProfile","NewTeacherForm","EditTeacherForm","Alert","App","constructor","componentDidMount","refreshUser","authServices","isLoggedIn","then","response","setTheUser","data","catch","undefined","user","setState","loggedInUser","teachersServices","getTeacher","state","_id","teacher","handleToast","visible","text","color","showToast","toastText","toastColor","updateFavCourses","item_id","newList","favCourses","some","elm","filter","usersServices","updateFavTeachers","favTeachers","render","props"],"mappings":"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","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nimport React, { Component } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { AnimatePresence } from 'framer-motion'\nimport AuthServices from './../service/auth.service'\nimport TeachersServices from './../service/teachers.service'\nimport UsersService from '../service/users.service'\n\nimport Navigation from './layout/navigation/Navigation'\nimport Footer from './layout/Footer/Footer'\nimport Home from './pages/Home/Home'\n\nimport CoursesList from './pages/Courses-list/Courses-list'\nimport CourseDetails from './pages/Course-details/Course-details'\nimport NewCourseForm from './pages/Course-form/New-Course-form'\nimport EditCourseForm from './pages/Course-form/Edit-Course-form'\n\n\nimport Signup from './pages/Signup/Signup'\nimport UserProfile from './pages/Profiles/UserProfile/UserProfile'\nimport EditUserForm from './pages/Profiles/UserProfile/EditUserForm'\n\nimport TeachersList from './pages/TeachersList/TeachersList'\nimport TeacherProfile from './pages/Profiles/TeacherProfile/TeacherProfile'\nimport NewTeacherForm from './pages/Profiles/TeacherProfile/Create-Teacher-form'\nimport EditTeacherForm from './pages/Profiles/TeacherProfile/Edit-Teacher-Form'\n\nimport Alert from './shared/Alert/Alert'\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = {\n      loggedInUser: undefined,\n      teacher: undefined,\n      showToast: false,\n      toastText: '',\n      toastColor: ''\n    }\n    this.authServices = new AuthServices()\n    this.teachersServices = new TeachersServices()\n    this.usersServices = new UsersService()\n\n  }\n\n  componentDidMount = () => this.refreshUser()\n\n  refreshUser = () => {\n    this.authServices\n      .isLoggedIn()\n      .then(response => this.setTheUser(response.data))\n      .catch(() => this.setTheUser(undefined))\n  }\n\n  setTheUser = user => {\n    this.setState({ loggedInUser: user })\n    user ?\n      this.teachersServices\n        .getTeacher(this.state.loggedInUser._id)\n        .then(response => this.setState({ teacher: response.data[0] }))\n        .catch(() => this.setState({ teacher: undefined }))\n      : this.setState({ teacher: undefined })\n  }\n\n  handleToast = (visible, text, color) => this.setState({ showToast: visible, toastText: text, toastColor: color })\n\n  updateFavCourses = item_id => {\n    if (this.state.loggedInUser) {\n      const newList = [...this.state.loggedInUser.favCourses].some(elm => elm === item_id) ? [...this.state.loggedInUser.favCourses].filter(elm => elm !== item_id) : [...this.state.loggedInUser.favCourses, item_id]\n      this.usersServices\n        .updateFavCourses(this.state.loggedInUser._id, newList)\n        .then(() => this.refreshUser())\n        .catch(() => this.handleToast(true, 'An error has occurred, please try again later', '#f8d7da'))\n    }\n  }\n\n  updateFavTeachers = item_id => {\n    if (this.state.loggedInUser) {\n      const newList = [...this.state.loggedInUser.favTeachers].some(elm => elm === item_id) ? [...this.state.loggedInUser.favTeachers].filter(elm => elm !== item_id) : [...this.state.loggedInUser.favTeachers, item_id]\n      this.usersServices\n        .updateFavTeachers(this.state.loggedInUser._id, newList)\n        .then(() => this.refreshUser())\n        .catch(() => this.handleToast(true, 'An error has occurred, please try again later', '#f8d7da'))\n    }\n  }\n\n\n  render() {\n    return (\n      <>\n        <Navigation storeUser={this.setTheUser} loggedUser={this.state.loggedInUser} handleToast={this.handleToast} />\n\n        <main>\n          <AnimatePresence>\n            <Switch>\n              <Route exact path=\"/\" exact component={Home} render={props => <Home {...props} handleToast={this.handleToast} />} />\n              <Route exact path=\"/courses\" exact component={CoursesList} render={props => <CoursesList {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} updateFavCourses={this.updateFavCourses} handleToast={this.handleToast} />} />\n              <Route path=\"/courses/:course_id\" render={props => <CourseDetails {...props} handleToast={this.handleToast} teacherInfo={this.state.teacher} loggedUser={this.state.loggedInUser} />} />\n              <Route exact path=\"/teachers\" render={props => <TeachersList {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} updateFavTeachers={this.updateFavTeachers} handleToast={this.handleToast} />} />\n              <Route path=\"/teachers/:teacher_id\" render={props => <TeacherProfile {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} storeUser={this.setTheUser} updateFavCourses={this.updateFavCourses} handleToast={this.handleToast} />} />\n              <Route path=\"/signup\" render={props => this.state.loggedInUser ? <Redirect to='/courses' /> : <Signup {...props} handleToast={this.handleToast} storeUser={this.setTheUser} />} />\n              <Route exact path=\"/profile\" render={props => this.state.loggedInUser ? <UserProfile {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} storeUser={this.setTheUser} updateFavCourses={this.updateFavCourses} updateFavTeachers={this.updateFavTeachers} handleToast={this.handleToast} /> : <Redirect to='/signup' />} />\n              <Route path=\"/profile/edit-user\" render={props => this.state.loggedInUser ? <EditUserForm {...props} loggedUser={this.state.loggedInUser} storeUser={this.setTheUser} handleToast={this.handleToast} /> : <Redirect to='/signup' />} />\n              <Route path=\"/profile/create-teacher\" render={props => this.state.loggedInUser ? <NewTeacherForm {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} storeUser={this.setTheUser} handleToast={this.handleToast} /> : <Redirect to='/signup' />} />\n              <Route path='/profile-teacher/edit-teacher' render={props => this.state.loggedInUser ? <EditTeacherForm {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} storeUser={this.setTheUser} handleToast={this.handleToast} /> : <Redirect to='/signup' />} />\n              <Route path=\"/profile-teacher/create-course\" render={props => this.state.teacher ? <NewCourseForm {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} handleToast={this.handleToast} /> : <Redirect to='/signup' />} />\n              <Route path=\"/profile-teacher/edit-course/:course_id\" render={props => this.state.teacher ? <EditCourseForm {...props} loggedUser={this.state.loggedInUser} teacherInfo={this.state.teacher} handleToast={this.handleToast} /> : <Redirect to='/signup' />} />\n            </Switch>\n          </AnimatePresence>\n          <Alert show={this.state.showToast} handleToast={this.handleToast} toastText={this.state.toastText} color={this.state.toastColor} />\n        </main>\n\n        <Footer />\n      </>\n    )\n  }\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}