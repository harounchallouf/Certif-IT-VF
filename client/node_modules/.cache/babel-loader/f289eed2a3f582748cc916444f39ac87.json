{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import{Link}from'react-router-dom';import{motion}from'framer-motion';import{pageVariants,pageTransition}from'../../shared/PageAnimation/PageAnimation';import CoursesService from'./../../../service/courses.service';import FilesService from'./../../../service/upload.service';import{Form,Button,Container,Row,Col}from'react-bootstrap';import Loader from'./../../shared/Spinner/Loader';var EditCourseForm=/*#__PURE__*/function(_Component){_inherits(EditCourseForm,_Component);var _super=_createSuper(EditCourseForm);function EditCourseForm(props){var _this;_classCallCheck(this,EditCourseForm);_this=_super.call(this,props);_this.componentDidMount=function(){var course_id=_this.props.match.params.course_id;_this.coursesService.getCourse(course_id).then(function(res){return _this.setState({course:res.data});}).catch(function(){_this.props.history.push('/profile');_this.props.handleToast(true,'An error has occurred, please try again later','#f8d7da');});};_this.handleInputChange=function(e){return _this.setState({course:_objectSpread(_objectSpread({},_this.state.course),{},_defineProperty({},e.target.name,e.target.value))});};_this.handleSubmit=function(e){e.preventDefault();var course_id=_this.props.match.params.course_id;_this.coursesService.editCourse(course_id,_this.state.course).then(function(){_this.props.history.push('/courses');_this.props.handleToast(true,'Edit successful!','#d4edda');}).catch(function(){_this.props.history.push(\"/teachers/\".concat(_this.props.teacherInfo._id));_this.props.handleToast(true,'An error has occurred, please try again later','#f8d7da');});};_this.handleImageUpload=function(e){var uploadData=new FormData();uploadData.append('imageUrl',e.target.files[0]);_this.setState({uploadingActive:true});_this.filesService.uploadImage(uploadData).then(function(response){_this.setState({course:_objectSpread(_objectSpread({},_this.state.course),{},{imageUrl:response.data.secure_url}),uploadingActive:false});}).catch(function(err){return _this.props.handleToast(true,err.response.data.message,'#f8d7da');});};_this.state={course:{title:'',lead:'',description:'',category:'',difficultyLevel:'',whatYouWillLearn:[],price:'',duration:'',requirements:[],videos:[],imageUrl:'',owner:_this.props.teacherInfo?_this.props.teacherInfo._id:''},uploadingActive:false};_this.coursesService=new CoursesService();_this.filesService=new FilesService();return _this;}_createClass(EditCourseForm,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(motion.div,{initial:\"initial\",animate:\"in\",exit:\"out\",variants:pageVariants,transition:pageTransition,children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:{span:8,offset:2},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Edit Course\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"title\",value:this.state.course.title,onChange:this.handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"lead\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Lead Paragraph\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"lead\",value:this.state.course.lead,onChange:this.handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"description\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"description\",value:this.state.course.description,onChange:this.handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"category\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"category\",value:this.state.course.category,onChange:this.handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose one option\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Design\",children:\"Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Development\",children:\"Development\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Marketing\",children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Music\",children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"difficultyLevel\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Level\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"difficultyLevel\",value:this.state.course.difficultyLevel,onChange:this.handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose one option\"}),/*#__PURE__*/_jsx(\"option\",{value:\"All levels\",children:\"All levels\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Beginner\",children:\"Beginner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intermidiate\",children:\"Intermidiate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Advanced\",children:\"Advanced\"})]})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"whatYouWillLearn\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Main Topics\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"whatYouWillLearn\",value:this.state.course.whatYouWillLearn,onChange:this.handleInputChange,required:true}),/*#__PURE__*/_jsx(Form.Text,{id:\"whatYouWillLearn\",muted:true,children:\"Separate topics with commas\"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"price\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"price\",value:this.state.course.price,onChange:this.handleInputChange,min:\"0\",required:true})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"duration\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Duration\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"duration\",value:this.state.course.duration,onChange:this.handleInputChange,min:\"0\",required:true})]})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"requirements\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Requirements\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"requirements\",value:this.state.course.requirements,onChange:this.handleInputChange}),/*#__PURE__*/_jsx(Form.Text,{id:\"requirements\",muted:true,children:\"Separate requirements with commas\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"requirements\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Videos\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"videos\",value:this.state.course.videos,onChange:this.handleInputChange}),/*#__PURE__*/_jsx(Form.Text,{id:\"videos\",muted:true,children:\"Separate URLs with commas\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Imagen (file: jpg or png) \",this.state.uploadingActive&&/*#__PURE__*/_jsx(Loader,{})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",onChange:this.handleImageUpload})]}),/*#__PURE__*/_jsx(Button,{className:\"mt-3 add-course\",type:\"submit\",disabled:this.state.uploadingActive,children:this.state.uploadingActive?'Image loading...':'Confirm Edition'})]}),this.state.uploadingActive||/*#__PURE__*/_jsx(Link,{to:\"/teachers/\".concat(this.props.teacherInfo._id),className:\"btn btn-outline-dark mt-5\",disabled:true,children:\"Go back\"})]})})})});}}]);return EditCourseForm;}(Component);export default EditCourseForm;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/Course-form/Edit-Course-form.js"],"names":["React","Component","Link","motion","pageVariants","pageTransition","CoursesService","FilesService","Form","Button","Container","Row","Col","Loader","EditCourseForm","props","componentDidMount","course_id","match","params","coursesService","getCourse","then","res","setState","course","data","catch","history","push","handleToast","handleInputChange","e","state","target","name","value","handleSubmit","preventDefault","editCourse","teacherInfo","_id","handleImageUpload","uploadData","FormData","append","files","uploadingActive","filesService","uploadImage","response","imageUrl","secure_url","err","message","title","lead","description","category","difficultyLevel","whatYouWillLearn","price","duration","requirements","videos","owner","span","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { motion } from 'framer-motion'\nimport { pageVariants, pageTransition } from '../../shared/PageAnimation/PageAnimation'\nimport CoursesService from './../../../service/courses.service'\nimport FilesService from './../../../service/upload.service'\nimport { Form, Button, Container, Row, Col } from 'react-bootstrap'\nimport Loader from './../../shared/Spinner/Loader'\n\nclass EditCourseForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            course: {\n                title: '',\n                lead: '',\n                description: '',\n                category: '',\n                difficultyLevel: '',\n                whatYouWillLearn: [],\n                price: '',\n                duration: '',\n                requirements: [],\n                videos: [],\n                imageUrl: '',\n                owner: this.props.teacherInfo ? this.props.teacherInfo._id : ''\n            },\n            uploadingActive: false\n        }\n        this.coursesService = new CoursesService()\n        this.filesService = new FilesService()\n    }\n\n    componentDidMount = () => {\n        const course_id = this.props.match.params.course_id\n\n        this.coursesService\n            .getCourse(course_id)\n            .then(res => this.setState({ course: res.data }))\n            .catch(() => {\n                this.props.history.push('/profile')\n                this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n            })\n    }\n\n    handleInputChange = e => this.setState({ course: { ...this.state.course, [e.target.name]: e.target.value } })\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const course_id = this.props.match.params.course_id\n        this.coursesService\n            .editCourse(course_id, this.state.course)\n            .then(() => {\n                this.props.history.push('/courses')\n                this.props.handleToast(true, 'Edit successful!', '#d4edda')\n            })\n            .catch(() => {\n                this.props.history.push(`/teachers/${this.props.teacherInfo._id}`)\n                this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n            })\n    }\n\n    handleImageUpload = e => {\n        const uploadData = new FormData()\n        uploadData.append('imageUrl', e.target.files[0])\n\n        this.setState({ uploadingActive: true })\n\n        this.filesService\n            .uploadImage(uploadData)\n            .then(response => {\n                this.setState({\n                    course: { ...this.state.course, imageUrl: response.data.secure_url },\n                    uploadingActive: false\n                })\n            })\n            .catch(err => this.props.handleToast(true, err.response.data.message, '#f8d7da'))\n    }\n\n\n    render() {\n\n        return (\n            <motion.div initial='initial' animate='in' exit='out' variants={pageVariants} transition={pageTransition}>\n                <Container>\n                    <Row>\n                        <Col lg={{ span: 8, offset: 2 }}>\n                            <h1 className=\"mt-5\">Edit Course</h1>\n                            <hr />\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Group controlId=\"title\">\n                                    <Form.Label>Title</Form.Label>\n                                    <Form.Control type=\"text\" name=\"title\" value={this.state.course.title} onChange={this.handleInputChange} required />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"lead\">\n                                    <Form.Label>Lead Paragraph</Form.Label>\n                                    <Form.Control type=\"text\" name=\"lead\" value={this.state.course.lead} onChange={this.handleInputChange} required />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"description\">\n                                    <Form.Label>Description</Form.Label>\n                                    <Form.Control as='textarea' name=\"description\" value={this.state.course.description} onChange={this.handleInputChange} required />\n                                </Form.Group>\n                                <Row>\n                                    <Col md={6}>\n                                        <Form.Group controlId='category'>\n                                            <Form.Label>Category</Form.Label>\n                                            <Form.Control as='select' name='category' value={this.state.course.category} onChange={this.handleInputChange}>\n                                                <option>Choose one option</option>\n                                                <option value='Design' >Design</option>\n                                                <option value='Development' >Development</option>\n                                                <option value='Marketing' >Marketing</option>\n                                                <option value='Music' >Music</option>\n                                                <option value='Other' >Other</option>\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Col>\n                                    <Col md={6}>\n                                        <Form.Group controlId='difficultyLevel'>\n                                            <Form.Label>Level</Form.Label>\n                                            <Form.Control as='select' name='difficultyLevel' value={this.state.course.difficultyLevel} onChange={this.handleInputChange}>\n                                                <option>Choose one option</option>\n                                                <option value='All levels'>All levels</option>\n                                                <option value='Beginner'>Beginner</option>\n                                                <option value='Intermidiate'>Intermidiate</option>\n                                                <option value='Advanced'>Advanced</option>\n                                            </Form.Control>\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <Form.Group controlId=\"whatYouWillLearn\">\n                                    <Form.Label>Main Topics</Form.Label>\n                                    <Form.Control as='textarea' name=\"whatYouWillLearn\" value={this.state.course.whatYouWillLearn} onChange={this.handleInputChange} required />\n                                    <Form.Text id='whatYouWillLearn' muted>Separate topics with commas</Form.Text>\n                                </Form.Group>\n                                <Row>\n                                    <Col md={6}>\n                                        <Form.Group controlId=\"price\">\n                                            <Form.Label>Price</Form.Label>\n                                            <Form.Control type=\"number\" name=\"price\" value={this.state.course.price} onChange={this.handleInputChange} min='0' required />\n                                        </Form.Group>\n                                    </Col>\n                                    <Col md={6}>\n                                        <Form.Group controlId=\"duration\">\n                                            <Form.Label>Duration</Form.Label>\n                                            <Form.Control type=\"number\" name=\"duration\" value={this.state.course.duration} onChange={this.handleInputChange} min='0' required />\n                                        </Form.Group>\n                                    </Col>\n                                </Row>\n                                <Form.Group controlId=\"requirements\">\n                                    <Form.Label>Requirements</Form.Label>\n                                    <Form.Control as='textarea' name=\"requirements\" value={this.state.course.requirements} onChange={this.handleInputChange} />\n                                    <Form.Text id='requirements' muted>Separate requirements with commas</Form.Text>\n                                </Form.Group>\n\n                                <Form.Group controlId=\"requirements\">\n                                    <Form.Label>Videos</Form.Label>\n                                    <Form.Control as='textarea' name=\"videos\" value={this.state.course.videos} onChange={this.handleInputChange} />\n                                    <Form.Text id='videos' muted>Separate URLs with commas</Form.Text>\n                                </Form.Group>\n\n                                <Form.Group>\n                                    <Form.Label>Imagen (file: jpg or png) {this.state.uploadingActive && <Loader />}</Form.Label>\n                                    <Form.Control type=\"file\" onChange={this.handleImageUpload} />\n                                </Form.Group>\n\n                                <Button className=\"mt-3 add-course\" type=\"submit\" disabled={this.state.uploadingActive}>{this.state.uploadingActive ? 'Image loading...' : 'Confirm Edition'}</Button>\n                            </Form>\n                            {this.state.uploadingActive || <Link to={`/teachers/${this.props.teacherInfo._id}`} className=\"btn btn-outline-dark mt-5\" disabled>Go back</Link>}\n                        </Col>\n                    </Row>\n                </Container>\n            </motion.div>\n        )\n    }\n}\n\nexport default EditCourseForm"]},"metadata":{},"sourceType":"module"}