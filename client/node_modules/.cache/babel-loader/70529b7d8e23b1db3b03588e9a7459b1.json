{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lenovo/Desktop/project-3-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{motion}from'framer-motion';import TeachersService from'../../../service/teachers.service';import SearchBar from'./../../shared/SearchBar/SearchBar';import NoMatchesMsg from'./../../shared/NoMatches-message/NoMatches-msg';import TeacherCard from'./TeacherCard';import Loader from'../../shared/Spinner/Loader';import'./TeacherList.css';import{Container,Row}from'react-bootstrap';var TeachersList=/*#__PURE__*/function(_Component){_inherits(TeachersList,_Component);var _super=_createSuper(TeachersList);function TeachersList(){var _this;_classCallCheck(this,TeachersList);_this=_super.call(this);_this.componentDidMount=function(){return _this.refreshTeachers();};_this.refreshTeachers=function(){_this.teachersService.getTeachers().then(function(res){return _this.setState({teachers:res.data,filteredTeachers:_toConsumableArray(res.data)});}).catch(function(){_this.props.history.push('/');_this.props.handleToast(true,'An error has occurred, please try again later','#f8d7da');});};_this.filterBySearch=function(value){return _this.setState({filteredTeachers:_toConsumableArray(_this.state.teachers).filter(function(elm){return elm.name.toLowerCase().includes(value.toLowerCase());})});};_this.sortBy=function(option){var filteredTeachersCopy=_toConsumableArray(_this.state.filteredTeachers);switch(option){case'Name-A':_this.setState({filteredTeachers:filteredTeachersCopy.sort(function(a,b){return a.name>b.name?1:-1;})});break;case'Name-Z':_this.setState({filteredTeachers:filteredTeachersCopy.sort(function(a,b){return a.name<b.name?1:-1;})});break;default:_this.setState({filteredTeachers:_toConsumableArray(_this.state.teachers)});break;}};_this.state={teachers:undefined,filteredTeachers:[]};_this.teachersService=new TeachersService();return _this;}_createClass(TeachersList,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsx(\"section\",{className:\"container-fluid teacher-hero\",children:/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Our teachers\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Help people learn new skills, advance their careers, \",/*#__PURE__*/_jsx(\"br\",{}),\" and explore their hobbies by sharing your knowledge.\"]}),/*#__PURE__*/_jsx(SearchBar,{filterBySearch:this.filterBySearch,sortBy:this.sortBy})]})})}),/*#__PURE__*/_jsx(\"section\",{className:\"teachers-list\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:this.state.teachers&&this.state.filteredTeachers?this.state.filteredTeachers.length===0?/*#__PURE__*/_jsx(NoMatchesMsg,{}):this.state.filteredTeachers.map(function(elm){return/*#__PURE__*/_jsx(TeacherCard,_objectSpread(_objectSpread({},elm),{},{userInfo:_this2.props.loggedUser,teacher:_this2.props.teacherInfo,updateFavTeachers:_this2.props.updateFavTeachers}),elm._id);}):/*#__PURE__*/_jsx(Loader,{})})})})]});}}]);return TeachersList;}(Component);export default TeachersList;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/project-3-master/client/src/components/pages/TeachersList/TeachersList.js"],"names":["React","Component","motion","TeachersService","SearchBar","NoMatchesMsg","TeacherCard","Loader","Container","Row","TeachersList","componentDidMount","refreshTeachers","teachersService","getTeachers","then","res","setState","teachers","data","filteredTeachers","catch","props","history","push","handleToast","filterBySearch","value","state","filter","elm","name","toLowerCase","includes","sortBy","option","filteredTeachersCopy","sort","a","b","undefined","opacity","length","map","loggedUser","teacherInfo","updateFavTeachers","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\nimport TeachersService from '../../../service/teachers.service'\nimport SearchBar from './../../shared/SearchBar/SearchBar'\nimport NoMatchesMsg from './../../shared/NoMatches-message/NoMatches-msg'\nimport TeacherCard from './TeacherCard'\nimport Loader from '../../shared/Spinner/Loader'\nimport './TeacherList.css'\nimport { Container, Row } from 'react-bootstrap'\n\nclass TeachersList extends Component {\n    constructor() {\n        super()\n        this.state = {\n            teachers: undefined,\n            filteredTeachers: []\n        }\n        this.teachersService = new TeachersService()\n    }\n\n    componentDidMount = () => this.refreshTeachers()\n\n    refreshTeachers = () => {\n        this.teachersService\n            .getTeachers()\n            .then(res => this.setState({ teachers: res.data, filteredTeachers: [...res.data] }))\n            .catch(() => {\n                this.props.history.push('/')\n                this.props.handleToast(true, 'An error has occurred, please try again later', '#f8d7da')\n            })\n    }\n\n    filterBySearch = value => this.setState({ filteredTeachers: [...this.state.teachers].filter(elm => elm.name.toLowerCase().includes(value.toLowerCase())) })\n\n    sortBy = option => {\n        const filteredTeachersCopy = [...this.state.filteredTeachers]\n        switch (option) {\n            case 'Name-A': this.setState({ filteredTeachers: filteredTeachersCopy.sort((a, b) => (a.name > b.name) ? 1 : -1) })\n                break;\n            case 'Name-Z': this.setState({ filteredTeachers: filteredTeachersCopy.sort((a, b) => (a.name < b.name) ? 1 : -1) })\n                break;\n            default: this.setState({ filteredTeachers: [...this.state.teachers] })\n                break;\n        }\n    }\n\n    render() {\n        return (\n            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n\n                <section className=\"container-fluid teacher-hero\">\n                    <div className=\"heading\">\n                        <Container>\n                            <h1 className=\"mt-5\">Our teachers</h1>\n                            <p>Help people learn new skills, advance their careers, <br></br> and explore their hobbies by sharing your knowledge.</p>\n                            <SearchBar filterBySearch={this.filterBySearch} sortBy={this.sortBy} />\n                        </Container>\n                    </div>\n                </section>\n                <section className=\"teachers-list\">\n                    <Container>\n                        <Row>\n                            {this.state.teachers && this.state.filteredTeachers ?\n                                this.state.filteredTeachers.length === 0 ?\n                                    <NoMatchesMsg />\n                                    :\n                                    this.state.filteredTeachers.map(elm =>\n                                    <TeacherCard key={elm._id} {...elm} userInfo={this.props.loggedUser} teacher={this.props.teacherInfo} updateFavTeachers={this.props.updateFavTeachers} />)\n                                :\n                                <Loader />\n                            }\n                            \n                            {/* {this.state.teachers ? this.state.filteredTeachers.map(elm =>\n                                <TeacherCard key={elm._id} {...elm} userInfo={this.props.loggedUser} teacher={this.props.teacherInfo} updateFavTeachers={this.props.updateFavTeachers} />)\n                                :\n                                <Loader />\n                            } */}\n                        </Row>\n                    </Container>\n                </section>\n            </motion.div>\n        )\n    }\n}\n\nexport default TeachersList"]},"metadata":{},"sourceType":"module"}